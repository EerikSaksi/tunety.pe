(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{100:function(e,t,n){e.exports=n.p+"static/media/home.34034ca8.png"},203:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(91),r=n(94),i=n(3),c=n.n(i),o=n(27),u=n(49),s=n(10),l=n(95),m=n(98),d=n(50),f=n(97);function g(){var e=Object(r.a)(["\n  query youtubesearchresults($query: String) {\n    youtubeSearchResults(query: $query) {\n      id\n      text\n      imgUrl\n    }\n  }\n"]);return g=function(){return e},e}function b(){var e=Object(r.a)(["\n  query geniussongdata($id: String) {\n    geniusSongData(id: $id) {\n      id\n      text\n      imgUrl\n    }\n  }\n"]);return b=function(){return e},e}var y=Object(i.lazy)((function(){return n.e(12).then(n.bind(null,136))})),p=Object(i.lazy)((function(){return Promise.all([n.e(1),n.e(7),n.e(14)]).then(n.bind(null,192))})),h=Object(u.gql)(b()),E=Object(u.gql)(g());function j(){var e=Object(s.f)(),t=Object(s.g)(),n=t.youtubeID,r=t.geniusID,g=Object(i.useState)(""),b=Object(a.a)(g,2),j=b[0],v=b[1],O=Object(u.useQuery)(h,{variables:{id:r},skip:r&&"0"===r,onCompleted:function(){v(k.text)}}).data,k=(O=void 0===O?{}:O).geniusSongData,S=Object(i.useState)([]),I=Object(a.a)(S,2),N=I[0],C=I[1],q=Object(u.useQuery)(E,{variables:{query:j},onCompleted:function(e){C(e.youtubeSearchResults.map((function(e){return e.forwardingUrl="/sync/".concat(e.id,"/").concat(r),e})))},skip:""===j}),w=(q.data,q.loading),x=q.error;if("0"!==r){if("0"===n){if(k){var $=k.imgUrl,L=k.text;return c.a.createElement(l.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},c.a.createElement(f.a,null),c.a.createElement(m.a,{className:"justify-content-md-center"},c.a.createElement("p",{style:{fontSize:30}},L)),c.a.createElement(m.a,{className:"justify-content-md-center"},c.a.createElement(d.a,{style:{width:"15%",height:"15%"},src:$})),c.a.createElement(i.Suspense,{fallback:c.a.createElement(o.a,null)},c.a.createElement(y,{results:N,input:j,setInput:v,formText:x?"Search for a YouTube video or enter enter a Youtube URL to sync the lyrics to:":"Enter a Youtube URL to sync the lyrics to:",formFontSize:30,loading:w,defaultValue:x?void 0:L})))}return c.a.createElement(l.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},c.a.createElement(f.a,null),c.a.createElement(m.a,{className:"justify-content-md-center"},c.a.createElement(o.a,null)))}return c.a.createElement(i.Suspense,{fallback:c.a.createElement(o.a,{centered:!0})},c.a.createElement(p,null))}"0"===n&&e.push("/")}},95:function(e,t,n){"use strict";var a=n(9),r=n(22),i=n(41),c=n.n(i),o=n(3),u=n.n(o),s=n(47),l=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.fluid,o=e.as,l=void 0===o?"div":o,m=e.className,d=Object(r.a)(e,["bsPrefix","fluid","as","className"]),f=Object(s.a)(n,"container"),g="string"===typeof i?"-"+i:"-fluid";return u.a.createElement(l,Object(a.a)({ref:t},d,{className:c()(m,i?""+f+g:f)}))}));l.displayName="Container",l.defaultProps={fluid:!1},t.a=l},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a=n(91),r=n(94),i=n(3),c=n.n(i),o=n(107),u=n(108),s=n(111),l=n(92),m=n(116),d=n(112),f=n(104),g=n(10),b=n(119),y=n(99),p=n.n(y),h="359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",E=n(49),j=n(105),v=n.n(j);function O(){var e=Object(r.a)(["\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n"]);return O=function(){return e},e}function k(){var e=Object(r.a)(["\n  query usernametaken($userName: String!) {\n    userNameTaken(userName: $userName)\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(r.a)(["\n  query signedinuser($tokenId: String) {\n    signedInUser(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n"]);return S=function(){return e},e}var I=Object(E.gql)(S()),N=Object(E.gql)(k()),C=Object(E.gql)(O());function q(e){var t=e.centerContent,r=e.customContent,j=e.setParentTokenId,O=Object(g.f)(),k=v()(),S=k.innerWidth,q=k.innerHeight,w=Object(i.useState)(""),x=Object(a.a)(w,2),$=x[0],L=x[1],R=Object(E.useLazyQuery)(I,{variables:{tokenId:$},onCompleted:function(){U.existsInDB||V(!0)},fetchPolicy:"network-only"}),z=Object(a.a)(R,2),D=z[0],T=z[1].data,U=(T=void 0===T?{}:T).signedInUser,B=Object(i.useState)(""),P=Object(a.a)(B,2),F=P[0],H=P[1],Q=Object(E.useQuery)(N,{variables:{userName:F},skip:!U||U.existsInDB}).data,_=(Q=void 0===Q?{}:Q).userNameTaken,Y=Object(i.useState)(!1),G=Object(a.a)(Y,2),J=G[0],V=G[1],M=Object(E.useMutation)(C,{variables:{userName:F,tokenId:$},onCompleted:function(){D({variables:{tokenId:$}}),V(!1)}}),W=Object(a.a)(M,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{className:"shadow-lg",style:{position:"absolute",left:.5*S,top:.5*q,transform:"translate(-50%, -50%)",zIndex:1e3},show:J,dismissible:!0,onClose:function(){return V(!1)},variant:"primary"},c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a.Heading,null,"Create a username for your account"),c.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),W()},onChange:function(e){return H(e.target.value)}},c.a.createElement(f.a.Control,{style:{marginTop:"em"},placeholder:"Enter username for your new account",autoFocus:!0}),c.a.createElement(l.a,{style:{position:"relative",marginTop:"1em",left:"50%",transform:"translate(-50%, 0px)"},disabled:_,onClick:function(){return W()}},"Create account")))),c.a.createElement(o.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},c.a.createElement(o.a.Brand,{onClick:function(){return O.push("/")}},c.a.createElement(l.a,{variant:"outline-primary",style:{justifyContent:"left",width:142,height:44},size:"sm"},c.a.createElement("img",{alt:"Home",src:n(100),style:{top:0,height:"100%",width:"100%"}}))),r,c.a.createElement(o.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},t),c.a.createElement(s.a,{className:"ml-auto"},c.a.createElement("div",{style:{marginRight:10,marginTop:20,marginBottom:20}},c.a.createElement(b.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")),U&&U.existsInDB?c.a.createElement(m.a,{title:"Signed in as ".concat(U.userName),style:{alignSelf:"center"}},c.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},c.a.createElement(l.a,{style:{width:"100%"},onClick:function(){return O.push("/user/".concat(U.userName))}},"View your profile")),c.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},c.a.createElement(y.GoogleLogout,{clientId:h,onLogoutSuccess:function(){L(""),D()}}))):J?c.a.createElement("p",{style:{fontSize:20,marginTop:16}}," Logging in... "):c.a.createElement("div",{style:{height:"100%",alignSelf:"center"}},c.a.createElement(p.a,{clientId:h,onSuccess:function(e){L(e.tokenId),D(),j&&j(e.tokenId)},isSignedIn:!0})))))}}}]);
//# sourceMappingURL=13.93addd04.chunk.js.map