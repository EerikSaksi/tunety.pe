(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{103:function(e,t,n){e.exports=n.p+"static/media/home.34034ca8.png"},203:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(91),r=n(94),i=n(3),o=n.n(i),c=n(27),u=n(49),s=n(10),l=n(95),m=n(101),d=n(50),f=n(98);function g(){var e=Object(r.a)(["\n  query youtubesearchresults($query: String) {\n    youtubeSearchResults(query: $query) {\n      id\n      topText\n      bottomText\n      imgUrl\n    }\n  }\n"]);return g=function(){return e},e}function b(){var e=Object(r.a)(["\n  query geniussongdata($id: String) {\n    geniusSongData(id: $id) {\n      id\n      topText\n      bottomText\n      imgUrl\n    }\n  }\n"]);return b=function(){return e},e}var p=Object(i.lazy)((function(){return n.e(12).then(n.bind(null,132))})),y=Object(i.lazy)((function(){return Promise.all([n.e(1),n.e(8),n.e(14)]).then(n.bind(null,192))})),h=Object(u.gql)(b()),E=Object(u.gql)(g());function j(){var e=Object(s.f)(),t=Object(s.g)(),n=t.youtubeID,r=t.geniusID,g=Object(i.useState)(""),b=Object(a.a)(g,2),j=b[0],v=b[1],O=Object(u.useQuery)(h,{variables:{id:r},skip:r&&"0"===r,onCompleted:function(){var e=k.topText,t=k.bottomText;v("".concat(e," - ").concat(t))}}).data,k=(O=void 0===O?{}:O).geniusSongData,S=Object(i.useState)([]),I=Object(a.a)(S,2),N=I[0],x=I[1],C=Object(u.useQuery)(E,{variables:{query:j},onCompleted:function(e){x(e.youtubeSearchResults.map((function(e){return e.forwardingUrl="/sync/".concat(e.id,"/").concat(r),e})))},skip:""===j}),T=(C.data,C.loading),q=C.error;if("0"!==r){if("0"===n){if(k){var w=k.imgUrl,$=k.text;return o.a.createElement(l.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},o.a.createElement(f.a,null),o.a.createElement(m.a,{className:"justify-content-md-center"},o.a.createElement("p",{style:{fontSize:30}},$)),o.a.createElement(m.a,{className:"justify-content-md-center"},o.a.createElement(d.a,{style:{width:"15%",height:"15%"},src:w})),o.a.createElement(i.Suspense,{fallback:o.a.createElement(c.a,null)},o.a.createElement(p,{results:N,input:j,setInput:v,formText:q?"Search for a YouTube video or enter enter a Youtube URL to sync the lyrics to:":"Enter a Youtube URL to sync the lyrics to:",formFontSize:30,loading:T,defaultValue:q?void 0:$})))}return o.a.createElement(l.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},o.a.createElement(f.a,null),o.a.createElement(m.a,{className:"justify-content-md-center"},o.a.createElement(c.a,null)))}return o.a.createElement(i.Suspense,{fallback:o.a.createElement(c.a,{centered:!0})},o.a.createElement(y,null))}"0"===n&&e.push("/")}},95:function(e,t,n){"use strict";var a=n(9),r=n(22),i=n(41),o=n.n(i),c=n(3),u=n.n(c),s=n(47),l=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.fluid,c=e.as,l=void 0===c?"div":c,m=e.className,d=Object(r.a)(e,["bsPrefix","fluid","as","className"]),f=Object(s.a)(n,"container"),g="string"===typeof i?"-"+i:"-fluid";return u.a.createElement(l,Object(a.a)({ref:t},d,{className:o()(m,i?""+f+g:f)}))}));l.displayName="Container",l.defaultProps={fluid:!1},t.a=l},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(91),r=n(94),i=n(3),o=n.n(i),c=n(109),u=n(110),s=n(108),l=n(92),m=n(116),d=n(113),f=n(105),g=n(10),b=n(118),p=n(102),y=n.n(p),h="359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",E=n(49),j=n(106),v=n.n(j);function O(){var e=Object(r.a)(["\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n"]);return O=function(){return e},e}function k(){var e=Object(r.a)(["\n  query usernametaken($userName: String!) {\n    userNameTaken(userName: $userName)\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(r.a)(["\n  query userdata($tokenId: String) {\n    userData(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n"]);return S=function(){return e},e}var I=Object(E.gql)(S()),N=Object(E.gql)(k()),x=Object(E.gql)(O());function C(e){var t=e.centerContent,r=e.customContent,j=e.setParentTokenId,O=Object(g.f)(),k=v()(),S=k.innerWidth,C=k.innerHeight,T=Object(i.useState)(""),q=Object(a.a)(T,2),w=q[0],$=q[1],D=Object(E.useLazyQuery)(I,{variables:{tokenId:w},onCompleted:function(){U.existsInDB||V(!0)},fetchPolicy:"network-only"}),L=Object(a.a)(D,2),R=L[0],z=L[1].data,U=(z=void 0===z?{}:z).userData,B=Object(i.useState)(""),P=Object(a.a)(B,2),F=P[0],H=P[1],Q=Object(E.useQuery)(N,{variables:{userName:F},skip:!U||U.existsInDB}).data,_=(Q=void 0===Q?{}:Q).userNameTaken,Y=Object(i.useState)(!1),G=Object(a.a)(Y,2),J=G[0],V=G[1],M=Object(E.useMutation)(x,{variables:{userName:F,tokenId:w},onCompleted:function(){R({variables:{tokenId:w}}),V(!1)}}),W=Object(a.a)(M,1)[0];return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:"shadow-lg",style:{position:"absolute",left:.5*S,top:.5*C,transform:"translate(-50%, -50%)",zIndex:1e3},show:J,dismissible:!0,onClose:function(){return V(!1)},variant:"primary"},o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a.Heading,null,"Create a username for your account"),o.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),W()},onChange:function(e){return H(e.target.value)}},o.a.createElement(f.a.Control,{style:{marginTop:"em"},placeholder:"Enter username for your new account",autoFocus:!0}),o.a.createElement(l.a,{style:{position:"relative",marginTop:"1em",left:"50%",transform:"translate(-50%, 0px)"},disabled:_,onClick:function(){return W()}},"Create account")))),o.a.createElement(c.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},o.a.createElement(c.a.Brand,{onClick:function(){return O.push("/")}},o.a.createElement(l.a,{variant:"outline-primary",style:{justifyContent:"left",width:142,height:44},size:"sm"},o.a.createElement("img",{alt:"Home",src:n(103),style:{top:0,height:"100%",width:"100%"}}))),r,o.a.createElement(c.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},t),o.a.createElement(s.a,{className:"ml-auto"},o.a.createElement("div",{style:{marginRight:10,marginTop:20,marginBottom:20}},o.a.createElement(b.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")),U&&U.existsInDB?o.a.createElement(m.a,{title:"Signed in as ".concat(U.userName),style:{alignSelf:"center"}},o.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},o.a.createElement(l.a,{style:{width:"100%"},onClick:function(){return O.push("/user/".concat(U.userName))}},"View your profile")),o.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},o.a.createElement(p.GoogleLogout,{clientId:h,onLogoutSuccess:function(){$(""),R()}}))):J?o.a.createElement("p",{style:{fontSize:20,marginTop:16}}," Logging in... "):o.a.createElement("div",{style:{height:"100%",alignSelf:"center"}},o.a.createElement(y.a,{clientId:h,onSuccess:function(e){$(e.tokenId),R(),j&&j(e.tokenId)},isSignedIn:!0})))))}}}]);
//# sourceMappingURL=13.dbb0c040.chunk.js.map