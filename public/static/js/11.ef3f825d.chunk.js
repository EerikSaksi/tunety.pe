(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{103:function(e,t,a){e.exports=a.p+"static/media/home.34034ca8.png"},111:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(96),r=a(99),i=a.n(r),s=a(100),l=a(91),c=a(3),o=a.n(c),u=a(107),m=a(50),d=a(92),f=a(10);function g(e){var t=e.text,a=e.style;return o.a.createElement("div",{style:Object(n.a)({position:"absolute",height:30,opacity:.8,textOverflow:"ellipsis",width:"100%",display:"flex",backgroundColor:"white"},a)},o.a.createElement("p",{style:{alignSelf:"center",width:"100%",textOverflow:"ellipsis",color:"black",fontSize:20,margin:0}},t))}function p(e){var t=e.forwardingUrl,a=e.imgUrl,r=e.bottomText,p=e.centerText,h=e.topText,y=e.fadeInMillis,b=e.style,E=Object(f.f)(),v=Object(c.useState)(!1),O=Object(l.a)(v,2),j=O[0],k=O[1],S=Object(c.useState)(0),x=Object(l.a)(S,2),I=x[0],C=x[1];return Object(c.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:C(1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(y)}),[y]),o.a.createElement(u.a,{xs:3,style:Object(n.a)({transition:"opacity 0.5s",opacity:I,marginTop:10,marginBottom:10,marginRight:10,marginLeft:10,padding:0},b),onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)}},o.a.createElement(d.a,{style:Object(n.a)({height:"min(100%, 347.5)",width:"auto",padding:0,border:0},b),onClick:function(){return E.push(t)}},o.a.createElement(m.a,{className:j?"shadow-lg":"",style:{width:"100%",height:"100%",transition:"all 200ms"},rounded:!0,src:a}),o.a.createElement(g,{style:{top:0},text:h}),o.a.createElement(g,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto"},text:p}),o.a.createElement(g,{style:{bottom:0},text:r})))}},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(96),r=a(91),i=a(3),s=a.n(i),l=a(162),c=a(106),o=a.n(c),u=a(133);function m(e){var t=e.children,a=e.title,c=e.imgOverlay,m=e.linkText,d=e.linkHref,f=e.style,g=Object(i.useState)(0),p=Object(r.a)(g,2),h=p[0],y=p[1],b=Object(u.a)({threshold:.5}),E=Object(r.a)(b,2),v=E[0],O=E[1];Object(i.useEffect)((function(){O&&y(1)}),[O]);var j=o()(),k=j.innerWidth,S=j.innerHeight;return s.a.createElement(l.a,{ref:v,className:"shadow-lg",style:Object(n.a)({width:"".concat(.8*k),position:"relative",left:"50%",transform:"translate(-50%, 0px)",opacity:h,transition:"opacity 500ms",marginBottom:20,marginTop:20,height:S-100},f),border:"primary"},s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a.Title,{style:{fontSize:40,textAlign:"center"}},a),s.a.createElement(l.a.Link,{style:{fontSize:20,textAlign:"center",zIndex:1e3},href:d},m),s.a.createElement(l.a.ImgOverlay,null,c),t))}},206:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(91),r=a(94),i=a(3),s=a.n(i),l=a(49),c=a(98),o=a(108),u=a(27),m=a(10),d=a(101),f=a(111);function g(e){var t=e.searchResults,a=e.dateClassified,n=e.displayDate,r=t.filter((function(e){return e.dateClassifier.dateClassified===a})).map((function(e){return s.a.createElement(f.a,Object.assign({},e,{style:{height:300,maxWidth:300}}))}));return r.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{style:{marginTop:"1.5em"}},s.a.createElement("p",null,n)),s.a.createElement("div",{style:{display:"flex",alignItems:"center",overflowX:"scroll"}},r)):null}var p=a(125);function h(){var e=Object(r.a)(["\n  query userdata($userName: String) {\n    userData(userName: $userName) {\n      userName\n      existsInDB\n      synchronizations {\n        geniusID\n        searchResult {\n          topText\n          centerText\n          bottomText\n          imgUrl\n          forwardingUrl\n          createdAt\n          dateClassifier{\n            dateClassified\n          }\n        }\n      }\n      gameStats {\n        creatorUserName\n        youtubeID\n        geniusID\n        wordsPerMinute\n        accuracy\n        createdAt\n        searchResult {\n          topText\n          centerText\n          bottomText\n          imgUrl\n          forwardingUrl\n          createdAt\n          dateClassifier{\n            dateClassified\n          }\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}var y=Object(l.gql)(h());function b(){var e,t=Object(m.g)().userName,a=Object(l.useQuery)(y,{variables:{userName:t}}),r=a.data,d=(r=void 0===r?{}:r).userData,f=a.loading,h=Object(i.useState)("/gameStats"),b=Object(n.a)(h,2),E=b[0],v=b[1];if(f)return s.a.createElement(u.a,{centered:!0});if(d&&!d.existsInDB)return s.a.createElement("p",null,"Couldn't find user");if(f)e=s.a.createElement(u.a,{centered:!0});else{var O="/gameStats"===E?d.gameStats.map((function(e){return e.searchResult})):d.synchronizations.map((function(e){return e.searchResult}));console.log(O),e=s.a.createElement(s.a.Fragment,null,s.a.createElement(g,{searchResults:O,dateClassified:"TODAY",displayDate:"Today"}),s.a.createElement(g,{searchResults:O,dateClassified:"YESTERDAY",displayDate:"Yesterday"}),s.a.createElement(g,{searchResults:O,dateClassified:"THIS_WEEK",displayDate:"This Week"}),s.a.createElement(g,{searchResults:O,dateClassified:"FURTHER_BACK",displayDate:"Further Back"}))}return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,null),s.a.createElement(p.a,{style:{padding:"1em",height:"auto"}},s.a.createElement(o.a,{style:{height:"10%",justifyContent:"center",zIndex:100},variant:"pills",activeKey:E,onSelect:function(e){return v(e)}},s.a.createElement(o.a.Item,null,s.a.createElement(o.a.Link,{eventKey:"/gameStats"},"Game History")),s.a.createElement(o.a.Item,null,s.a.createElement(o.a.Link,{eventKey:"/synchronizations"},"Created Synchronizations"))),e))}},98:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(91),r=a(94),i=a(3),s=a.n(i),l=a(109),c=a(110),o=a(108),u=a(92),m=a(116),d=a(113),f=a(105),g=a(10),p=a(118),h=a(102),y=a.n(h),b="359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",E=a(49),v=a(106),O=a.n(v);function j(){var e=Object(r.a)(["\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n"]);return j=function(){return e},e}function k(){var e=Object(r.a)(["\n  query usernametaken($userName: String!) {\n    userNameTaken(userName: $userName)\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(r.a)(["\n  query userdata($tokenId: String) {\n    userData(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n"]);return S=function(){return e},e}var x=Object(E.gql)(S()),I=Object(E.gql)(k()),C=Object(E.gql)(j());function w(e){var t=e.centerContent,r=e.customContent,v=e.setParentTokenId,j=Object(g.f)(),k=O()(),S=k.innerWidth,w=k.innerHeight,T=Object(i.useState)(""),N=Object(n.a)(T,2),D=N[0],R=N[1],z=Object(E.useLazyQuery)(x,{variables:{tokenId:D},onCompleted:function(){F.existsInDB||Y(!0)},fetchPolicy:"network-only"}),B=Object(n.a)(z,2),L=B[0],$=B[1].data,F=($=void 0===$?{}:$).userData,H=Object(i.useState)(""),U=Object(n.a)(H,2),q=U[0],A=U[1],_=Object(E.useQuery)(I,{variables:{userName:q},skip:!F||F.existsInDB}).data,K=(_=void 0===_?{}:_).userNameTaken,M=Object(i.useState)(!1),W=Object(n.a)(M,2),P=W[0],Y=W[1],G=Object(E.useMutation)(C,{variables:{userName:q,tokenId:D},onCompleted:function(){L({variables:{tokenId:D}}),Y(!1)}}),Q=Object(n.a)(G,1)[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{className:"shadow-lg",style:{position:"absolute",left:.5*S,top:.5*w,transform:"translate(-50%, -50%)",zIndex:1e3},show:P,dismissible:!0,onClose:function(){return Y(!1)},variant:"primary"},s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a.Heading,null,"Create a username for your account"),s.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),Q()},onChange:function(e){return A(e.target.value)}},s.a.createElement(f.a.Control,{style:{marginTop:"em"},placeholder:"Enter username for your new account",autoFocus:!0}),s.a.createElement(u.a,{style:{position:"relative",marginTop:"1em",left:"50%",transform:"translate(-50%, 0px)"},disabled:K,onClick:function(){return Q()}},"Create account")))),s.a.createElement(l.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},s.a.createElement(l.a.Brand,{onClick:function(){return j.push("/")}},s.a.createElement(u.a,{variant:"outline-primary",style:{justifyContent:"left",width:142,height:44},size:"sm"},s.a.createElement("img",{alt:"Home",src:a(103),style:{top:0,height:"100%",width:"100%"}}))),r,s.a.createElement(l.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},t),s.a.createElement(o.a,{className:"ml-auto"},s.a.createElement("div",{style:{marginRight:10,marginTop:20,marginBottom:20}},s.a.createElement(p.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")),F&&F.existsInDB?s.a.createElement(m.a,{title:"Signed in as ".concat(F.userName),style:{alignSelf:"center"}},s.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},s.a.createElement(u.a,{style:{width:"100%"},onClick:function(){return j.push("/user/".concat(F.userName))}},"View your profile")),s.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},s.a.createElement(h.GoogleLogout,{clientId:b,onLogoutSuccess:function(){R(""),L()}}))):P?s.a.createElement("p",{style:{fontSize:20,marginTop:16}}," Logging in... "):s.a.createElement("div",{style:{height:"100%",alignSelf:"center"}},s.a.createElement(y.a,{clientId:b,onSuccess:function(e){R(e.tokenId),L(),v&&v(e.tokenId)},isSignedIn:!0})))))}}}]);
//# sourceMappingURL=11.ef3f825d.chunk.js.map