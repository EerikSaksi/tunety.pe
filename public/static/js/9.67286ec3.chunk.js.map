{"version":3,"sources":["media/home.png","components/navigation/search_result_text.js","components/navigation/search_result.js","components/universal/custom_card.js","components/navigation/search_results_form.js","components/navigation/home.js","../node_modules/react-bootstrap/esm/Container.js","components/universal/google_login_secrets.js","components/universal/custom_navbar.js"],"names":["module","exports","SearchResultText","text","style","position","height","opacity","textOverflow","width","display","backgroundColor","alignSelf","color","fontSize","margin","SearchResult","forwardingUrl","imgUrl","bottomText","centerText","topText","fadeInMillis","history","useHistory","useState","hovering","setHovering","setOpacity","useEffect","millis","a","Promise","resolve","setTimeout","sleepBeforeAppear","Col","xs","transition","marginTop","marginBottom","marginRight","marginLeft","padding","onMouseEnter","onMouseLeave","Button","border","onClick","push","Image","className","rounded","src","top","left","transform","bottom","CustomCard","children","title","imgOverlay","linkText","linkHref","useInView","threshold","inViewRef","inView","useWindowSize","innerWidth","innerHeight","ref","Title","textAlign","Link","zIndex","href","ImgOverlay","SearchResultForm","results","input","setInput","loading","defaultValue","fluid","onChange","e","target","value","onSubmit","preventDefault","Control","placeholder","autoFocus","justifyContent","map","result","index","key","centered","AstleyCard","lazy","QUERY","gql","Home","astleyOverlayRef","useRef","useQuery","variables","query","skip","data","HomeIcon","window","scrollTo","current","offsetTop","minHeight","overflow","geniusSearchResults","undefined","formText","fallback","Container","React","forwardRef","_ref","bsPrefix","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","suffix","createElement","_extends","classNames","displayName","defaultProps","clientId","SIGNED_IN_USER","USER_NAME_TAKEN","CREATE_USER","CustomNavbar","centerContent","customContent","setParentTokenId","tokenId","setTokenId","useLazyQuery","onCompleted","userData","existsInDB","setShowAlert","fetchPolicy","fetchUserInfo","inputUsername","setInputUsername","userName","userNameTaken","showAlert","useMutation","postUser","Alert","show","dismissible","onClose","variant","Heading","Form","disabled","Navbar","sticky","bg","Brand","size","alt","require","Collapse","Nav","data-icon","data-size","data-show-count","aria-label","DropdownButton","Dropdown","Item","paddingLeft","paddingRight","onLogoutSuccess","onSuccess","response","isSignedIn"],"mappings":"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","file":"static/js/9.67286ec3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home.34034ca8.png\";","import React from 'react';\nexport default function SearchResultText({ text, style }) {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        height: 30,\n        opacity: 0.8,\n        textOverflow: 'ellipsis',\n        width: '100%',\n        display: 'flex',\n        backgroundColor: 'white',\n        ...style,\n      }}\n    >\n      <p\n        style={{\n          alignSelf: 'center',\n          width: '100%',\n          textOverflow: 'ellipsis',\n          color: 'black',\n          fontSize: 20,\n          margin: 0,\n        }}\n      >\n        {text}\n      </p>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Button from 'react-bootstrap/Button';\nimport { useHistory } from 'react-router-dom';\nimport SearchResultText from 'components/navigation/search_result_text';\nexport default function SearchResult({ forwardingUrl, imgUrl, bottomText, centerText, topText, fadeInMillis, style }) {\n  //used for routing the url when this item is clicked\n  const history = useHistory();\n\n  const [hovering, setHovering] = useState(false);\n\n  //used for fading in after fadeInMillis\n  const [opacity, setOpacity] = useState(0);\n  useEffect(() => {\n    async function sleepBeforeAppear(millis) {\n      await new Promise((resolve) => setTimeout(resolve, millis));\n      setOpacity(1);\n    }\n    sleepBeforeAppear(fadeInMillis);\n  }, [fadeInMillis]);\n\n  return (\n    <Col\n      xs={3}\n      style={{\n        transition: 'opacity 0.5s',\n        opacity: opacity,\n        marginTop: 10,\n        marginBottom: 10,\n        marginRight: 10,\n        marginLeft: 10,\n        padding: 0,\n        ...style\n      }}\n      onMouseEnter={() => setHovering(true)}\n      onMouseLeave={() => setHovering(false)}\n    >\n      <Button\n        style={{ height: 'min(100%, 347.5)', width: 'auto', padding: 0, border: 0, ...style }}\n        onClick={() => history.push(forwardingUrl)}\n      >\n        <Image\n          className={hovering ? 'shadow-lg' : ''}\n          style={{ width: '100%', height: '100%', transition: 'all 200ms' }}\n          rounded\n          src={imgUrl}\n        />\n        <SearchResultText style={{ top: 0 }} text={topText} />\n        <SearchResultText\n          style={{ top: '50%', left: '50%', transform: 'translate(-50%, -50%)',  width: 'auto'}}\n          text={centerText}\n        />\n        <SearchResultText style={{ bottom: 0 }} text={bottomText} />\n      </Button>\n    </Col>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport Card from 'react-bootstrap/Card'\nimport useWindowSize from '@rehooks/window-size';\nimport {useInView} from 'react-hook-inview'\nexport default function CustomCard ({children, title, imgOverlay, linkText, linkHref, style}) {\n  const [opacity, setOpacity] = useState(0)\n  const [inViewRef, inView] = useInView({\n    threshold: 0.5\n  })\n  useEffect(() => {\n    if (inView) {\n      setOpacity(1)\n    }\n  }, [inView])\n\n\n  const {innerWidth, innerHeight} = useWindowSize()\n  return (\n    <Card ref={inViewRef} className=\"shadow-lg\" style={{width: `${0.8 * innerWidth}`, position: 'relative', left: '50%', transform: 'translate(-50%, 0px)', opacity: opacity, transition: 'opacity 500ms', marginBottom: 20, marginTop: 20, height: innerHeight - 100, ...style}} border='primary' >\n      < >\n        <Card.Title style={{fontSize: 40, textAlign: 'center'}}>\n          {title}\n        </Card.Title>\n        <Card.Link style={{fontSize: 20, textAlign: 'center', zIndex: 1000, }} href={linkHref}>\n          {linkText}\n        </Card.Link>\n        <Card.ImgOverlay>\n          {imgOverlay}\n        </Card.ImgOverlay>\n        {children}\n      </>\n    </Card>\n  )\n}\n","import React  from 'react';\nimport Loading from 'components/universal/loading';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport SearchResult from 'components/navigation/search_result';\nexport default function SearchResultForm({\n  results,\n  input,\n  setInput,\n  loading,\n  defaultValue,\n}) {\n  return (\n    <Container fluid style={{ zIndex: 1000 }}>\n      <Row className='justify-content-md-center'>\n        <Form\n          onChange={(e) => setInput(e.target.value)}\n          onSubmit={(e) => {\n            e.preventDefault();\n          }}\n        >\n          <Form.Control\n            defaultValue={defaultValue ? defaultValue : ''}\n            placeholder='Search'\n            autoFocus\n          />\n        </Form>\n      </Row>\n      <Row style={{ justifyContent: 'center', marginTop: 5 }}>\n        {input === '' ? null : !loading && results ? (\n          results.map((result, index) => (\n            <SearchResult\n              key={index}\n              {...result}\n              fadeInMillis={(index + 1) * 100}\n            />\n          ))\n        ) : (\n          <Loading centered={false} />\n        )}\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useRef, lazy, Suspense } from 'react';\nimport Loading from 'components/universal/loading';\nimport SearchResultForm from 'components/navigation/search_results_form';\nimport { useQuery, gql } from '@apollo/client';\nimport CustomNavBar from 'components/universal/custom_navbar';\nimport CustomCard from 'components/universal/custom_card';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Image from 'react-bootstrap/Image';\nimport HomeIcon from 'media/home.png';\nconst AstleyCard = lazy(() => import('components/navigation/astley_card'));\n\nconst QUERY = gql`\n  query geniussearchresults($query: String) {\n    geniusSearchResults(query: $query) {\n      imgUrl\n      bottomText\n      topText\n      forwardingUrl\n    }\n  }\n`;\nexport default function Home() {\n  //input of the form, passed to the form but declared here as required for checking if data needs to be fetched\n  const [input, setInput] = useState('the attendant');\n\n  const astleyOverlayRef = useRef();\n\n  const { data, loading } = useQuery(QUERY, {\n    variables: { query: input },\n    skip: input === '',\n  });\n\n  return (\n    <>\n      <CustomNavBar />\n      <Container>\n        <CustomCard title={'Type your tunes!'} style={{ height: '30%' }}>\n          <Image src={HomeIcon} style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)', width: 1373 / 3, height: 382 / 3, zIndex: 1000 }}></Image>\n          <Button style={{ position: 'absolute', left: '50%', bottom: '10%', transform: 'translate(-50%, 0)' }} onClick={() => window.scrollTo(0, astleyOverlayRef.current.offsetTop)}>\n            How does this site work?\n          </Button>\n        </CustomCard>\n        <CustomCard title={'Search For An Artist/Song/Album'} style={{ minHeight: `calc(70% - 120px)`, height: 'auto', overflow: 'hidden' }}>\n          <Row style={{ justifyContent: 'center', marginBottom: 12 }}></Row>\n          <SearchResultForm results={data ? data.geniusSearchResults : undefined} input={input} setInput={setInput} formText={'Search For An Artist/Song/Album'} loading={loading} />\n        </CustomCard>\n        <div ref={astleyOverlayRef}>\n          <Suspense fallback={<Loading />}>\n            <AstleyCard />\n          </Suspense>\n        </div>\n      </Container>\n    </>\n  );\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  fluid: false\n};\nvar Container = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      fluid = _ref.fluid,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"fluid\", \"as\", \"className\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'container');\n  var suffix = typeof fluid === 'string' ? \"-\" + fluid : '-fluid';\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, fluid ? \"\" + prefix + suffix : prefix)\n  }));\n});\nContainer.displayName = 'Container';\nContainer.defaultProps = defaultProps;\nexport default Container;","export const clientId = '359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com'\n","import React, { useState } from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Alert from 'react-bootstrap/Alert';\nimport Nav from 'react-bootstrap/Nav';\nimport Button from 'react-bootstrap/Button';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Form from 'react-bootstrap/Form';\nimport { useHistory } from 'react-router-dom';\nimport GitHubButton from 'react-github-btn';\nimport GoogleLogin from 'react-google-login';\nimport { GoogleLogout } from 'react-google-login';\nimport { clientId } from 'components/universal/google_login_secrets';\nimport { useQuery, useLazyQuery, useMutation, gql } from '@apollo/client';\nimport useWindowSize from '@rehooks/window-size';\n\nconst SIGNED_IN_USER = gql`\n  query userdata($tokenId: String) {\n    userData(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n`;\n\nconst USER_NAME_TAKEN = gql`\n  query usernametaken($userName: String!) {\n    userNameTaken(userName: $userName)\n  }\n`;\n\nconst CREATE_USER = gql`\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n`;\n\nexport default function CustomNavbar({ centerContent, customContent, setParentTokenId }) {\n  const history = useHistory();\n\n  const { innerWidth, innerHeight } = useWindowSize();\n\n  //set by google client onSuccess\n  const [tokenId, setTokenId] = useState('');\n\n  //this will be called after the tokenId has been set and fetches the username of the user\n  const [fetchUserInfo, { data: { userData } = {} }] = useLazyQuery(SIGNED_IN_USER, {\n    variables: { tokenId },\n    onCompleted: () => {\n      if (!userData.existsInDB) {\n        setShowAlert(true);\n      }\n    },\n    fetchPolicy: 'network-only',\n  });\n\n  //this userName can be edited from the alert form\n  const [inputUsername, setInputUsername] = useState('');\n\n  const { data: { userNameTaken } = {} } = useQuery(USER_NAME_TAKEN, {\n    variables: { userName: inputUsername },\n    skip: !userData || userData.existsInDB,\n  });\n\n  //alert that lets users create users\n  const [showAlert, setShowAlert] = useState(false);\n\n  const [postUser] = useMutation(CREATE_USER, {\n    variables: { userName: inputUsername, tokenId: tokenId },\n\n    onCompleted: () => {\n      fetchUserInfo({ variables: { tokenId: tokenId } });\n      setShowAlert(false);\n    },\n  });\n\n  return (\n    <>\n      <Alert\n        className='shadow-lg'\n        style={{\n          position: 'absolute',\n          left: innerWidth * 0.5,\n          top: innerHeight * 0.5,\n          transform: 'translate(-50%, -50%)',\n          zIndex: 1000,\n        }}\n        show={showAlert}\n        dismissible={true}\n        onClose={() => setShowAlert(false)}\n        variant='primary'\n      >\n        {\n          <>\n            <Alert.Heading>Create a username for your account</Alert.Heading>\n            <Form\n              onSubmit={(e) => {\n                e.preventDefault();\n                postUser();\n              }}\n              onChange={(e) => setInputUsername(e.target.value)}\n            >\n              <Form.Control style={{ marginTop: 'em' }} placeholder='Enter username for your new account' autoFocus />\n              <Button\n                style={{\n                  position: 'relative',\n                  marginTop: '1em',\n                  left: '50%',\n                  transform: 'translate(-50%, 0px)',\n                }}\n                disabled={userNameTaken}\n                onClick={() => postUser()}\n              >\n                Create account\n              </Button>\n            </Form>\n          </>\n        }\n      </Alert>\n      <Navbar style={{ height: 60 }} sticky='top' bg='secondary' variant='dark'>\n        <Navbar.Brand onClick={() => history.push('/')}>\n          <Button variant='outline-primary' style={{ justifyContent: 'left', width: 142, height: 44 }} size='sm'>\n            <img alt = \"Home\" src={require('../../media/home.png')} style={{ top: 0, height: '100%', width: '100%' }} />\n          </Button>\n        </Navbar.Brand>\n        {customContent}\n        <Navbar.Collapse\n          style={{\n            position: 'absolute',\n            transform: 'translate(-50%, 0%)',\n            left: '50%',\n          }}\n        >\n          {centerContent}\n        </Navbar.Collapse>\n        <Nav className='ml-auto'>\n          <div\n            style={{\n              marginRight: 10,\n              marginTop: 20,\n              marginBottom: 20,\n            }}\n          >\n            <GitHubButton href='https://github.com/EerikSaksi/type_to_lyrics' data-icon='octicon-star' data-size='large' data-show-count='true' aria-label='Star EerikSaksi/type_to_lyrics on GitHub'>\n              Star\n            </GitHubButton>\n          </div>\n          {userData && userData.existsInDB ? (\n            <DropdownButton title={`Signed in as ${userData.userName}`} style={{ alignSelf: 'center' }}>\n              <Dropdown.Item style={{ paddingLeft: 4, paddingRight: 4 }}>\n                <Button style={{ width: '100%' }} onClick={() => history.push(`/user/${userData.userName}`)}>\n                  View your profile\n                </Button>\n              </Dropdown.Item>\n              <Dropdown.Item style={{ paddingLeft: 4, paddingRight: 4 }}>\n                <GoogleLogout\n                  clientId={clientId}\n                  onLogoutSuccess={() => {\n                    setTokenId('');\n                    fetchUserInfo();\n                  }}\n                />\n              </Dropdown.Item>\n            </DropdownButton>\n          ) : showAlert ? (\n            <p style={{ fontSize: 20, marginTop: 16 }}> Logging in... </p>\n          ) : (\n            <div style={{ height: '100%', alignSelf: 'center' }}>\n              <GoogleLogin\n                clientId={clientId}\n                onSuccess={(response) => {\n                  {/* set the token id to the response, which will be used to query the username */}\n                  setTokenId(response.tokenId);\n                  fetchUserInfo();\n\n                  {/* if passed a tokenId listener by parent, set the value*/}\n                  if (setParentTokenId) {\n                    setParentTokenId(response.tokenId);\n                  }\n                }}\n                isSignedIn={true}\n              />\n            </div>\n          )}\n        </Nav>\n      </Navbar>\n    </>\n  );\n}\n"],"sourceRoot":""}