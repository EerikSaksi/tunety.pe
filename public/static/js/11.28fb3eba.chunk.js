(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{102:function(t,e,n){t.exports=n(105)},103:function(t,e,n){"use strict";function r(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function c(t){r(i,a,o,c,u,"next",t)}function u(t){r(i,a,o,c,u,"throw",t)}c(void 0)}))}}n.d(e,"a",(function(){return a}))},105:function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var l={};function f(){}function m(){}function y(){}var h={};h[a]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(x([])));p&&p!==e&&n.call(p,a)&&(h=p);var v=y.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=v.constructor=y,y.constructor=m,m.displayName=c(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new g(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(v),c(v,i,"Generator"),v[a]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},159:function(t,e,n){t.exports=n.p+"static/media/fast-forward.04baf9a2.png"},196:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return B}));var r=n(92),a=n(95),o=n(3),i=n.n(o),c=n(108),u=n(10),s=n(50),l=n(104),f=n(96),m=n(27),y=n(99),h=n(102),d=n.n(h),p=n(103),v=function(t){var e=t.text,n=t.fadeOut,a=t.style,c=Object(o.useState)(0),u=Object(r.a)(c,2),s=u[0],l=u[1],f=Object(o.useState)(""),m=Object(r.a)(f,2),h=m[0],v=m[1],b=function(t){return new Promise((function(e){return setTimeout(e,t)}))};return Object(o.useEffect)((function(){l(1),v(e)}),[e]),Object(o.useEffect)((function(){(function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(0),t.next=3,b(250);case 3:v(e),l(1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),i.a.createElement("p",{style:Object(y.a)({textAlign:n?"left":"center",transition:"opacity 0.25s",opacity:s},a)},h)},b=n(98),g=n(114),E=n(51),j=n(93),w=n(112),O=n(156);function x(t){var e=t.id,n=t.text,a=t.time,c=t.timePixelOffset,u=t.changeLyricById,s=t.videoDuration,l=t.width,f=t.playing,m=t.setPlaying,y=Object(o.useState)("primary"),h=Object(r.a)(y,2),v=h[0],b=h[1],g=Object(o.useState)(130),E=Object(r.a)(g,2),w=E[0],x=E[1];Object(o.useEffect)((function(){a-s<=.5&&a-s>0&&function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,1e3*(a-s))}));case 2:return b("warning"),t.next=5,new Promise((function(t){return setTimeout(t,500)}));case 5:b("primary");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[s,a]);var L=Object(o.useState)(c),k=Object(r.a)(L,2),S=k[0],C=k[1],T=Object(o.useState)(!1),P=Object(r.a)(T,2),I=P[0],D=P[1],N=function(){var t=Object(p.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=10*((r=n/l)-.5),x(1e3),a=f,m(!1),u(e,s+r),D(!1),t.next=9,new Promise((function(t){return setTimeout(t,1e3)}));case 9:a&&m(!0),x(130);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){I||C(c)}),[c,I]),i.a.createElement(i.a.Fragment,null,i.a.createElement(O.DraggableCore,{axis:"x",onStart:function(){return D(!0)},onStop:function(){return N(S)},onDrag:function(t){var e=t.movementX,n=t.clientX,r=t.screenX;C((function(t){return e*(n/r)+t})),x(0)}},i.a.createElement(j.a,{key:e,variant:v,style:{transition:"transform linear ".concat(w,"ms"),position:"absolute",alignSelf:"center",transform:"translate(".concat(S,"px, 0px)"),justifyContent:"start"}},i.a.createElement("p",{style:{fontSize:"30px"}},n))))}function L(t){var e=t.videoDuration,n=t.syncedLyrics,a=t.changeLyricById,c=t.aboveProgressBar,u=t.playing,s=t.setPlaying,m=Object(o.useState)(Array(3)),y=Object(r.a)(m,2),h=y[0],d=y[1],p=Object(o.useState)(0),v=Object(r.a)(p,2),b=v[0],g=v[1],E=Object(o.useRef)();return Object(o.useLayoutEffect)((function(){E.current&&g(E.current.offsetWidth)}),[]),Object(o.useEffect)((function(){for(var t=Array(3),r=0;r<t.length;r++)t[r]=[];n.forEach((function(n){n.forEach((function(n){var r,a=n.time-e;(-5<a&&a<5||!n.time)&&(r=n.id,c?0<=r%6&&r%6<=2:3<=r%6&&r%6<=6)&&t[n.id%3].push(n)}))})),d(t)}),[e,c,n]),i.a.createElement(f.a,{ref:E,fluid:!0,style:{height:"30%",width:"80%"}},i.a.createElement(i.a.Fragment,null,h.map((function(t,n){return i.a.createElement(l.a,{key:n,style:{marginTop:"8%"}},t.map((function(t){var n=(t.time-e+5)/10,r=b*n;return i.a.createElement(x,{key:t.id,text:t.text,id:t.id,time:t.time,changeLyricById:a,videoDuration:e,timePixelOffset:r,width:b,playing:u,setPlaying:s})})))}))))}var k=n(109),S=n(154),C=n.n(S),T=n(155),P=n.n(T);function I(){var t=Object(a.a)(["\nmutation postsyncedlyrics($syncedLyrics: [[InputSyncedLyric]], $synchronizationData: InputSynchronizationData){\n  postSyncedLyrics(syncedLyrics: $syncedLyrics, synchronizationData: $synchronizationData)\n}\n"]);return I=function(){return t},t}var D=Object(s.gql)(I()),N=function(t){var e=t.syncedLyrics,a=t.startTime,m=t.endTime,h=Object(u.g)(),d=h.youtubeID,p=h.geniusID,v=Object(o.useRef)(null),O=Object(o.useRef)(null),x=Object(o.useRef)(null),S=Object(u.f)(),T=Object(o.useState)(e),I=Object(r.a)(T,2),N=I[0],z=I[1],_=Object(s.useMutation)(D,{variables:{syncedLyrics:N,synchronizationData:{youtubeID:d,geniusID:p,startTime:a,endTime:m}},onCompleted:function(){tt(!0)}}),B=Object(r.a)(_,1)[0],F=function(){var t=Object(o.useState)(0),e=Object(r.a)(t,2),n=e[0],a=e[1],i=Object(o.useState)("0:00"),c=Object(r.a)(i,2),u=c[0],s=c[1];return Object(o.useEffect)((function(){var t=Math.floor(n/60),e=Math.floor(n%60);e=e>=10?e:"0"+e.toString(),s("".concat(t,":").concat(e))}),[n]),[n,a,function(t){return t+n},u]}(),R=Object(r.a)(F,4),G=R[0],A=R[1],$=R[2],W=R[3],M=Object(o.useState)(""),X=Object(r.a)(M,2),q=X[0],H=X[1],J=Object(o.useState)(!1),Y=Object(r.a)(J,2),Q=Y[0],K=Y[1],U=Object(o.useState)(!1),V=Object(r.a)(U,2),Z=V[0],tt=V[1],et=function(t,e){var n=function(t){return"".concat(Math.floor(t/60),":").concat(t%60>=9?(t%60).toFixed(2):"0"+(t%60).toFixed(2))};z((function(r){return r.map((function(r){return r.map((function(r){return r.id===t?(H("'".concat(r.text,"' ").concat(n(r.time)," \u2192 ").concat(n(e))),Object(y.a)(Object(y.a)({},r),{},{time:e})):r}))}))})),v.current.seekTo(e-2)},nt=Object(o.useState)(!0),rt=Object(r.a)(nt,2),at=rt[0],ot=rt[1],it=Object(o.useState)(!0),ct=Object(r.a)(it,2),ut=ct[0],st=ct[1];Object(o.useEffect)((function(){document.addEventListener("keydown",lt,!1);var t=setInterval((function(){if(v.current){var t=v.current.getCurrentTime();t<a&&(v.current.seekTo(a),A(a)),t>m?(v.seekTo(m),A(m),ot(!1)):A(t)}}),200);return function(){clearInterval(t),window.removeEventListener("keydown",lt)}}),[m,A,a]);var lt=function(t){"Space"===t.code&&ot((function(t){return!t}))},ft=function(t){var e=$(t);a<e&&e<m&&v.current.seekTo(e)};return i.a.createElement(f.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},i.a.createElement(b.a,{centerContent:i.a.createElement(k.a.Collapse,null,i.a.createElement(j.a,{disabled:ut,style:{color:"black",height:"40px",textAlign:"center"},onClick:function(){return ot((function(t){return!t}))}},i.a.createElement(E.a,{style:{height:30,width:30},src:at?C.a:P.a})),i.a.createElement(k.a.Text,{style:{fontSize:30,marginLeft:10}}," ",W)),customContent:i.a.createElement(k.a.Text,{style:{fontSize:15}},"Icons made by ",i.a.createElement("a",{href:"https://www.flaticon.com/authors/elias-bikbulatov",title:"Elias Bikbulatov"}," Elias Bikbulatov"),"             from ",i.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"}," www.flaticon.com"))}),i.a.createElement(f.a,{style:{position:"relative"}},i.a.createElement(l.a,{style:{position:"relative"}},i.a.createElement(c.a,{visible:!1,ref:v,playing:at,setBuffering:st,url:"https://www.youtube.com/watch?v=".concat(d),disableControls:!0}))),i.a.createElement(f.a,{fluid:!0,style:{position:"absolute",top:0,left:0,right:0,bottom:0}},i.a.createElement("div",{style:{position:"absolute",left:"50%",marginLeft:"-3px",top:0,bottom:0,borderLeft:"4px solid black"}}),i.a.createElement(w.a,{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1e3},show:Q,dismissible:!0,onClose:function(){return K(!1)},variant:Z?"success":"primary"},Z?i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a.Heading,null,"Success: lyrics saved!"),i.a.createElement(j.a,{onClick:function(){return S.push("/p/".concat(d,"/").concat(p))}}," Play now!")):i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a.Heading,{style:{justifyContent:"center"}}," Click the button below to confirm your submission "),i.a.createElement(j.a,{onClick:function(){return B()}}," Send Lyric Synchronization"))),i.a.createElement(l.a,{className:"justify-content-center h-10"},i.a.createElement(g.a,{xs:5}),i.a.createElement(g.a,{className:"align-self-center",xs:1}),i.a.createElement(g.a,{style:{alignSelf:"center",fontSize:"20px"},xs:5})),i.a.createElement(L,{videoDuration:G,syncedLyrics:N,changeLyricById:et,aboveProgressBar:!0,playing:at,setPlaying:ot}),i.a.createElement(f.a,{fluid:!0,className:"mw-100 h-10"},i.a.createElement(l.a,{className:"align-self-center"},i.a.createElement(g.a,{xs:1,className:"align-self-center"},i.a.createElement(j.a,{ref:x,disabled:ut,block:!0,onClick:function(){ft(-10),x.current.blur()}},i.a.createElement(E.a,{style:{justifyContent:"center",height:30,transform:"scaleX(-1)"},src:n(159)}))),i.a.createElement(g.a,{className:"align-self-center",xs:10},i.a.createElement("hr",{style:{color:"black",backgroundColor:"black",height:2}})),i.a.createElement(g.a,{xs:1,className:"align-self-center"},i.a.createElement(j.a,{ref:O,disabled:ut,block:!0,onClick:function(){ft(10),O.current.blur()}},i.a.createElement(E.a,{style:{justifyContent:"center",height:30},src:n(159)}))))),i.a.createElement(L,{videoDuration:G,syncedLyrics:N,changeLyricById:et,aboveProgressBar:!1,playing:at,setPlaying:ot}),i.a.createElement("div",{style:{width:1,backgroundColor:"black",position:"absolute",left:"50%",transform:"translate(-50%, 0%)"}}),i.a.createElement(k.a,{style:{height:60,maxWidth:"100%"},fixed:"bottom",bg:"secondary",variant:"dark"},i.a.createElement(k.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},i.a.createElement(k.a.Text,{style:{fontSize:40}},q)),i.a.createElement(k.a.Collapse,{className:"justify-content-end"},i.a.createElement(j.a,{onClick:function(){return K(!0)}}," Submit synchronization ")))))};function z(){var t=Object(a.a)(["\n  query processedlyrics($id: String) {\n    processedLyrics(id: $id) {\n      id\n      text\n    }\n  }\n"]);return z=function(){return t},t}var _=Object(s.gql)(z());function B(t){var e=t.startTime,n=t.endTime,a=Object(u.g)(),y=a.youtubeID,h=a.geniusID,d=Object(o.useRef)(null),p=Object(o.useState)(!1),g=Object(r.a)(p,2),E=g[0],j=g[1],w=Object(o.useState)(!1),O=Object(r.a)(w,2),x=O[0],L=O[1],k=Object(o.useState)(!0),S=Object(r.a)(k,2),C=S[0],T=S[1],P=Object(o.useState)(0),I=Object(r.a)(P,2),D=I[0],z=I[1],B=Object(o.useState)(0),F=Object(r.a)(B,2),R=F[0],G=F[1],A=Object(o.useState)({}),$=Object(r.a)(A,2),W=$[0],M=$[1];Object(o.useEffect)((function(){var t=function(t){t.keyCode&&(E?C||D<W.length&&(M((function(t){return t.map((function(t,e){return t.map((function(t,n){return e===D&&n===R&&(t.time=d.current.getCurrentTime()),t}))}))})),W[D].length-1===R?(z((function(t){return t+1})),G(0)):G((function(t){return t+1}))):(j(!0),d.current&&d.current.seekTo(e)))};return document.addEventListener("keydown",t,!1),function(){return window.removeEventListener("keydown",t)}}),[C,E,e,R,D,W]),Object(o.useEffect)((function(){var t=setInterval((function(){d.current&&d.current.getCurrentTime()>n&&L(!0)}),1e3);return function(){return clearInterval(t)}}),[d,n]);var X=Object(o.useState)("Waiting for lyrics to be processed..."),q=Object(r.a)(X,2),H=q[0],J=q[1],Y=Object(s.useQuery)(_,{variables:{id:h},onCompleted:function(){M(Y.processedLyrics.map((function(t){return t.map((function(t){return delete t.__typename,t}))}))),J("Press any key to start the video")}}).data;return Object(o.useEffect)((function(){C||J("Whenever the highlighted word is said, press any key to sync it.")}),[C]),x?i.a.createElement(N,{syncedLyrics:W,startTime:e,endTime:n}):i.a.createElement(f.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},i.a.createElement(b.a,{centerContent:i.a.createElement(v,{text:H,style:{fontSize:30,color:"white",zIndex:1e3,textAlign:"center"}})}),i.a.createElement(l.a,{className:"justify-content-md-center"},i.a.createElement(c.a,{visible:!0,ref:d,fadeOut:!1,playing:E,url:"https://www.youtube.com/watch?v=".concat(y),setEnded:L,setBuffering:T,disableControls:!0})),Y?Y.processedLyrics.slice(D).map((function(t,e){return i.a.createElement(l.a,{className:"justify-content-md-center",style:{minWidth:"100%"},key:e},t.map((function(t,n){return 0===e&&R===n?i.a.createElement("mark",{key:t.id,style:{backgroundColor:"#007bff",color:"#fff",marginBottom:10,fontSize:"40px",marginLeft:"0.5em"}},t.text):i.a.createElement("p",{key:t.id,style:{marginBottom:10,fontSize:"40px",marginLeft:"0.5em"}},t.text)})))})):i.a.createElement(m.a,{centered:!0}))}}}]);
//# sourceMappingURL=11.28fb3eba.chunk.js.map