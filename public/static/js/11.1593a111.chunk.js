(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(91),r=n(94),i=n(3),o=n.n(i),l=n(110),c=n(108),s=n(109),u=n(92),m=n(123),f=n(118),d=n(105),g=n(10),p=n(124),h=n(103),y=n.n(h),b="359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",E=n(49),v=n(106),j=n.n(v);function O(){var e=Object(r.a)(["\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n"]);return O=function(){return e},e}function k(){var e=Object(r.a)(["\n  query usernametaken($userName: String!) {\n    userNameTaken(userName: $userName)\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(r.a)(["\n  query userdata($tokenId: String) {\n    userData(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n"]);return S=function(){return e},e}var w=Object(E.gql)(S()),x=Object(E.gql)(k()),I=Object(E.gql)(O());function C(e){e.centerContent;var t=e.customContent,r=e.setParentTokenId,v=e.setParentUserName,O=Object(g.f)(),k=j()(),S=k.innerWidth,C=k.innerHeight,T=Object(i.useState)(""),N=Object(a.a)(T,2),q=N[0],z=N[1],H=Object(i.useState)("not called"),$=Object(a.a)(H,2),F=$[0],A=$[1],B=Object(E.useLazyQuery)(w,{variables:{tokenId:q},onCompleted:function(){U.existsInDB?v&&v(U.userName):X(!0)},fetchPolicy:"network-only"}),D=Object(a.a)(B,2),L=D[0],R=D[1].data,U=(R=void 0===R?{}:R).userData,M=Object(i.useState)(""),P=Object(a.a)(M,2),W=P[0],_=P[1],J=Object(E.useQuery)(x,{variables:{userName:W},skip:!U||U.existsInDB||""===W}).data,Q=(J=void 0===J?{}:J).userNameTaken,G=Object(i.useState)(!1),V=Object(a.a)(G,2),K=V[0],X=V[1],Y=Object(E.useMutation)(I,{variables:{userName:W,tokenId:q},onCompleted:function(){L({variables:{tokenId:q}}),X(!1)}}),Z=Object(a.a)(Y,1)[0];return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{className:"shadow-lg",style:{position:"absolute",left:.5*S,top:.5*C,transform:"translate(-50%, -50%)",zIndex:1e3},show:K,dismissible:!0,onClose:function(){return X(!1)},variant:Q?"danger":"primary"},o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a.Heading,null,Q?"This username is taken":"Create a username for your account"),o.a.createElement(d.a,{onSubmit:function(e){e.preventDefault(),Q||Z()},onChange:function(e){return _(e.target.value)}},o.a.createElement(d.a.Control,{style:{marginTop:"em"},placeholder:"Enter username for your new account",autoFocus:!0}),o.a.createElement(u.a,{style:{position:"relative",marginTop:"1em",left:"50%",transform:"translate(-50%, 0px)"},disabled:Q,onClick:function(){return Z()}},"Create account")))),o.a.createElement(l.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},o.a.createElement(l.a.Brand,{onClick:function(){return O.push("/")}},o.a.createElement(u.a,{variant:"outline-primary",style:{justifyContent:"left",width:142,height:44},size:"sm"},o.a.createElement("img",{alt:"Home",src:n(104),style:{top:0,height:"100%",width:"100%"}}))),t,o.a.createElement(l.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},o.a.createElement("p",null," ","".concat(F)," ")),o.a.createElement(s.a,{className:"ml-auto"},o.a.createElement("div",{style:{marginRight:10,marginTop:20,marginBottom:20}},o.a.createElement(p.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")),U&&U.existsInDB?o.a.createElement(m.a,{title:"Signed in as ".concat(U.userName),style:{alignSelf:"center"}},o.a.createElement(f.a.Item,{style:{paddingLeft:4,paddingRight:4}},o.a.createElement(u.a,{style:{width:"100%"},onClick:function(){return O.push("/user/".concat(U.userName))}},"View your profile")),o.a.createElement(f.a.Item,{style:{paddingLeft:4,paddingRight:4}},o.a.createElement(h.GoogleLogout,{clientId:b,onLogoutSuccess:function(){z(""),L()}}))):K?o.a.createElement("p",{style:{fontSize:20,marginTop:16}}," Logging in... "):o.a.createElement("div",{style:{height:"100%",alignSelf:"center"}},o.a.createElement(y.a,{clientId:b,onSuccess:function(e){console.log("called"),A("onSucessCalled"),z(e.tokenId),L(),r&&r(e.tokenId)},onFailure:function(e){A(JSON.stringify(e))},isSignedIn:!0})))))}},104:function(e,t,n){e.exports=n.p+"static/media/home.34034ca8.png"},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(93),r=n(97),i=n.n(r),o=n(98),l=n(91),c=n(3),s=n.n(c),u=n(107),m=n(50),f=n(92),d=n(10);function g(e){var t=e.text,n=e.style;return s.a.createElement("div",{style:Object(a.a)({position:"absolute",height:30,opacity:.8,width:"100%",display:"flex",alignItems:"center",backgroundColor:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},n)},s.a.createElement("p",{style:{width:"100%",whiteSpace:"no-wrap",color:"black",fontSize:20,margin:0}},t))}function p(e){var t=e.forwardingUrl,n=e.imgUrl,r=e.bottomText,p=e.centerText,h=e.topText,y=e.fadeInMillis,b=e.style,E=Object(d.f)(),v=Object(c.useState)(!1),j=Object(l.a)(v,2),O=j[0],k=j[1],S=Object(c.useState)(0),w=Object(l.a)(S,2),x=w[0],I=w[1];return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:I(1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(y)}),[y]),s.a.createElement(u.a,{xs:12,style:Object(a.a)({transition:"opacity 0.5s",opacity:x,margin:10,padding:0,maxHeight:347.5,maxWidth:347.5,minHeight:"100%"},b),onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)}},s.a.createElement(f.a,{style:{width:"100%",height:"100%",padding:0,border:0},onClick:function(){return E.push(t)}},s.a.createElement(m.a,{className:O?"shadow-lg":"",style:{maxHeight:347.5,height:"100%",width:"auto",maxWidth:"100%",transition:"all 200ms"},rounded:!0,src:n}),s.a.createElement(g,{style:{top:0},text:h}),s.a.createElement(g,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto"},text:p}),s.a.createElement(g,{style:{bottom:0},text:r})))}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(93),r=n(91),i=n(3),o=n.n(i),l=n(126),c=n(106),s=n.n(c),u=n(116);function m(e){var t=e.children,n=e.title,c=e.imgOverlay,m=e.linkText,f=e.linkHref,d=e.style,g=Object(i.useState)(0),p=Object(r.a)(g,2),h=p[0],y=p[1],b=Object(u.a)({threshold:.5}),E=Object(r.a)(b,2),v=E[0],j=E[1];Object(i.useEffect)((function(){j&&y(1)}),[j]);var O=s()(),k=O.innerWidth,S=O.innerHeight;return o.a.createElement(l.a,{ref:v,className:"shadow-lg",style:Object(a.a)({width:"".concat(.8*k),position:"relative",left:"50%",transform:"translate(-50%, 0px)",opacity:h,transition:"opacity 500ms",marginBottom:20,marginTop:20,height:S-100},d),border:"primary"},o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a.Title,{style:{fontSize:40,textAlign:"center"}},n),o.a.createElement(l.a.Link,{style:{fontSize:20,textAlign:"center",zIndex:1e3},href:f},m),o.a.createElement(l.a.ImgOverlay,null,c),t))}},153:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(3),r=n.n(a),i=n(27),o=n(95),l=n(105),c=n(99),s=n(112);function u(e){var t=e.results,n=e.input,a=e.setInput,u=e.loading,m=e.style;return r.a.createElement(o.a,{fluid:!0,style:{zIndex:1e3}},r.a.createElement(c.a,{className:"justify-content-center"},r.a.createElement(l.a,{onChange:function(e){return a(e.target.value)},onSubmit:function(e){e.preventDefault()}},r.a.createElement(l.a.Control,{value:n,placeholder:"Search",autoFocus:!0}))),r.a.createElement(c.a,{style:{justifyContent:"center",marginTop:5}},""===n?null:!u&&t?t.map((function(e,t){return r.a.createElement(s.a,Object.assign({key:t},e,{fadeInMillis:100*(t+1),style:m}))})):r.a.createElement(i.a,{centered:!1})))}},204:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(91),r=n(94),i=n(3),o=n.n(i),l=n(27),c=n(153),s=n(49),u=n(100),m=n(115),f=n(95),d=n(92),g=n(99),p=n(50),h=n(104),y=n.n(h);function b(){var e=Object(r.a)(["\n  query geniussearchresults($query: String) {\n    geniusSearchResults(query: $query) {\n      imgUrl\n      bottomText\n      topText\n      forwardingUrl\n    }\n  }\n"]);return b=function(){return e},e}var E=Object(i.lazy)((function(){return Promise.all([n.e(1),n.e(19)]).then(n.bind(null,198))})),v=Object(s.gql)(b());function j(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],h=Object(i.useRef)(),b=Object(s.useQuery)(v,{variables:{query:n},skip:""===n}),j=b.data,O=b.loading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null),o.a.createElement(f.a,null,o.a.createElement(m.a,{title:"Type your tunes!",style:{height:"30%"}},o.a.createElement(p.a,{src:y.a,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:1373/3,height:382/3,zIndex:1e3}}),o.a.createElement(d.a,{style:{position:"absolute",left:"50%",bottom:"10%",transform:"translate(-50%, 0)"},onClick:function(){return window.scrollTo(0,h.current.offsetTop)}},"How does this site work?")),o.a.createElement(m.a,{title:"Search For An Artist/Song/Album",style:{minHeight:"calc(70% - 120px)",height:"auto",overflow:"hidden"}},o.a.createElement(g.a,{style:{justifyContent:"center",marginBottom:12}}),o.a.createElement(c.default,{results:j?j.geniusSearchResults:void 0,input:n,setInput:r,formText:"Search For An Artist/Song/Album",loading:O})),o.a.createElement("div",{ref:h},o.a.createElement(i.Suspense,{fallback:o.a.createElement(l.a,null)},o.a.createElement(E,null)))))}}}]);
//# sourceMappingURL=11.1593a111.chunk.js.map