(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{110:function(e,t,n){e.exports=n.p+"static/media/fast-forward.04baf9a2.png"},141:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ue}));var a,r=n(22),c=n(76),i=n(1),o=n.n(i),s=n(79),l=n(5),u=n(31),f=n(65),m=n(74),b=n(73),d=n(15),y=n(46),p=n(71),j=n(30),O=n(69),h=n(32),E=n(68),v=n(4),g=n(13),w=n(21),x=n.n(w),k=n(93),S=n(95),C=n(28),L=n(97),N=n(112),T=n(99),P=((a={})[N.b]="show",a[N.a]="show",a),I=o.a.forwardRef((function(e,t){var n=e.className,a=e.children,r=Object(g.a)(e,["className","children"]),c=Object(i.useCallback)((function(e){Object(T.a)(e),r.onEnter&&r.onEnter(e)}),[r]);return o.a.createElement(N.e,Object(v.a)({ref:t,addEndListener:L.a},r,{onEnter:c}),(function(e,t){return o.a.cloneElement(a,Object(v.a)({},t,{className:x()("fade",n,a.props.className,P[e])}))}))}));I.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},I.displayName="Fade";var D=I,z=n(12),B=n.n(z),R={label:B.a.string.isRequired,onClick:B.a.func},F=o.a.forwardRef((function(e,t){var n=e.label,a=e.onClick,r=e.className,c=Object(g.a)(e,["label","onClick","className"]);return o.a.createElement("button",Object(v.a)({ref:t,type:"button",className:x()("close",r),onClick:a},c),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},n))}));F.displayName="CloseButton",F.propTypes=R,F.defaultProps={label:"Close"};var A=F,M=n(91),$=n(81),W=n(88),H=Object(M.a)("h4");H.displayName="DivStyledAsH4";var X=Object($.a)("alert-heading",{Component:H}),q=Object($.a)("alert-link",{Component:W.a}),J={show:!0,transition:D,closeLabel:"Close alert"},_=o.a.forwardRef((function(e,t){var n=Object(k.a)(e,{show:"onClose"}),a=n.bsPrefix,r=n.show,c=n.closeLabel,i=n.className,s=n.children,l=n.variant,u=n.onClose,f=n.dismissible,m=n.transition,b=Object(g.a)(n,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),d=Object(C.a)(a,"alert"),y=Object(S.a)((function(e){u&&u(!1,e)})),p=!0===m?D:m,j=o.a.createElement("div",Object(v.a)({role:"alert"},p?b:void 0,{ref:t,className:x()(i,d,l&&d+"-"+l,f&&d+"-dismissible")}),f&&o.a.createElement(A,{onClick:y,label:c}),s);return p?o.a.createElement(p,Object(v.a)({unmountOnExit:!0},b,{ref:void 0,in:r}),j):r?j:null}));_.displayName="Alert",_.defaultProps=J,_.Link=q,_.Heading=X;var G=_,K=n(23),Q=n.n(K),U=n(33),V=n(107);function Y(e){var t=e.id,n=e.text,a=e.time,c=e.timePixelOffset,s=e.changeLyricById,l=e.videoDuration,u=e.width,f=e.playing,m=e.setPlaying,b=Object(i.useState)(""),d=Object(r.a)(b,2),y=(d[0],d[1]),p=Object(i.useState)("primary"),j=Object(r.a)(p,2),O=j[0],h=j[1],v=Object(i.useState)(130),g=Object(r.a)(v,2),w=g[0],x=g[1];Object(i.useEffect)((function(){(y("".concat(Math.floor(a/60),":").concat(a%60>=9?Math.floor(a)%60:"0"+Math.floor(a)%60)),a-l<=.5&&a-l>0)&&function(){var e=Object(U.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3*(a-l))}));case 2:return h("warning"),e.next=5,new Promise((function(e){return setTimeout(e,500)}));case 5:h("primary");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l]);var k=Object(i.useState)(c),S=Object(r.a)(k,2),C=S[0],L=S[1],N=Object(i.useState)({}),T=Object(r.a)(N,2),P=(T[0],T[1],Object(i.useState)(!1)),I=Object(r.a)(P,2),D=I[0],z=I[1],B=function(){var e=Object(U.a)(Q.a.mark((function e(n){var a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=10*((a=n/u)-.5),x(1e3),r=f,m(!1),s(t,l+a),z(!1),e.next=9,new Promise((function(e){return setTimeout(e,1e3)}));case 9:r&&m(!0),x(130);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){D||L(c)}),[c]),o.a.createElement(o.a.Fragment,null,o.a.createElement(V.DraggableCore,{axis:"x",onStart:function(){return z(!0)},onStop:function(){return B(C)},onDrag:function(e){var t=e.movementX,n=e.clientX,a=e.screenX;L((function(e){return t*(n/a)+e})),x(0)}},o.a.createElement(E.a,{key:t,variant:O,style:{transition:"transform linear ".concat(w,"ms"),position:"absolute",alignSelf:"center",transform:"translate(".concat(C,"px, 0px)"),justifyContent:"start"}},o.a.createElement("p",{style:{fontSize:"30px"}},n))))}function Z(e){var t=e.videoDuration,n=e.syncedLyrics,a=e.changeLyricById,c=e.aboveProgressBar,s=e.playing,l=e.setPlaying,u=Object(i.useState)(Array(3)),f=Object(r.a)(u,2),d=f[0],y=f[1],p=Object(i.useState)(0),j=Object(r.a)(p,2),O=j[0],h=j[1],E=Object(i.useRef)();return Object(i.useLayoutEffect)((function(){E.current&&h(E.current.offsetWidth)}),[]),Object(i.useEffect)((function(){for(var e=Array(3),a=0;a<e.length;a++)e[a]=[];n.forEach((function(n){n.forEach((function(n){var a,r=n.time-t;(-5<r&&r<5||!n.time)&&(a=n.id,c?0<=a%6&&a%6<=2:3<=a%6&&a%6<=6)&&e[n.id%3].push(n)}))})),y(e)}),[t]),o.a.createElement(b.a,{ref:E,fluid:!0,style:{height:"30%",width:"80%"}},o.a.createElement(o.a.Fragment,null,d.map((function(e,n){return o.a.createElement(m.a,{key:n,style:{marginTop:"8%"}},e.map((function(e){var n=(e.time-t+5)/10,r=O*n;return o.a.createElement(Y,{key:e.id,text:e.text,id:e.id,time:e.time,changeLyricById:a,videoDuration:t,timePixelOffset:r,width:O,playing:s,setPlaying:l})})))}))))}var ee=n(80),te=n(105),ne=n.n(te),ae=n(106),re=n.n(ae);function ce(){var e=Object(c.a)(["\nmutation postsyncedlyrics($syncedLyrics: [[InputSyncedLyric]], $synchronizationData: InputSynchronizationData){\n  postSyncedLyrics(syncedLyrics: $syncedLyrics, synchronizationData: $synchronizationData)\n}\n"]);return ce=function(){return e},e}var ie=Object(u.b)(ce()),oe=function(e){var t=e.syncedLyrics,a=e.startTime,c=e.endTime,u=Object(l.h)(),d=u.youtubeID,y=u.geniusID,v=Object(i.useRef)(null),g=Object(i.useRef)(null),w=Object(i.useRef)(null),x=Object(l.f)(),k=Object(i.useState)(t),S=Object(r.a)(k,2),C=S[0],L=S[1],N=Object(f.b)(ie,{variables:{syncedLyrics:C,synchronizationData:{youtubeID:d,geniusID:y,startTime:a,endTime:c}},onCompleted:function(){Q(!0)}}),T=Object(r.a)(N,1)[0],P=function(){var e=Object(i.useState)(0),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)("0:00"),o=Object(r.a)(c,2),s=o[0],l=o[1];return Object(i.useEffect)((function(){var e=Math.floor(n/60),t=Math.floor(n%60);t=t>=10?t:"0"+t.toString(),l("".concat(e,":").concat(t))}),[n]),[n,a,function(e){return e+n},s]}(),I=Object(r.a)(P,4),D=I[0],z=I[1],B=I[2],R=I[3],F=Object(i.useState)(""),A=Object(r.a)(F,2),M=A[0],$=A[1],W=Object(i.useState)(!1),H=Object(r.a)(W,2),X=H[0],q=H[1],J=Object(i.useState)(!1),_=Object(r.a)(J,2),K=_[0],Q=_[1],U=function(e,t){var n=function(e){return"".concat(Math.floor(e/60),":").concat(e%60>=9?(e%60).toFixed(2):"0"+(e%60).toFixed(2))};L((function(a){return a.map((function(a){return a.map((function(a){return a.id===e?($("'".concat(a.text,"' ").concat(n(a.time)," \u2192 ").concat(n(t))),Object(j.a)(Object(j.a)({},a),{},{time:t})):a}))}))})),v.current.seekTo(t-2)},V=Object(i.useState)(!0),Y=Object(r.a)(V,2),te=Y[0],ae=Y[1],ce=Object(i.useState)(!0),oe=Object(r.a)(ce,2),se=oe[0],le=oe[1];Object(i.useEffect)((function(){document.addEventListener("keydown",ue,!1);var e=setInterval((function(){if(v.current){var e=v.current.getCurrentTime();e<a&&(v.current.seekTo(a),z(a)),e>c?(v.seekTo(c),z(c),ae(!1)):z(e)}}),200);return function(){clearInterval(e),window.removeEventListener("keydown",ue)}}),[]);var ue=function(e){"Space"===e.code&&ae((function(e){return!e}))},fe=function(e){var t=B(e);a<t&&t<c&&v.current.seekTo(t)};return o.a.createElement(b.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},o.a.createElement(p.a,{centerContent:o.a.createElement(ee.a.Collapse,null,o.a.createElement(E.a,{disabled:se,style:{color:"black",height:"40px",textAlign:"center"},onClick:function(){return ae((function(e){return!e}))}},o.a.createElement(h.a,{style:{height:30,width:30},src:te?ne.a:re.a})),o.a.createElement(ee.a.Text,{style:{fontSize:30,marginLeft:10}}," ",R)),customContent:o.a.createElement(ee.a.Text,{style:{fontSize:15}},"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/elias-bikbulatov",title:"Elias Bikbulatov"}," Elias Bikbulatov"),"             from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"}," www.flaticon.com"))}),o.a.createElement(b.a,{style:{position:"relative"}},o.a.createElement(m.a,{style:{position:"relative"}},o.a.createElement(s.a,{visible:!1,ref:v,playing:te,setBuffering:le,url:"https://www.youtube.com/watch?v=".concat(d),disableControls:!0}))),o.a.createElement(b.a,{fluid:!0,style:{position:"absolute",top:0,left:0,right:0,bottom:0}},o.a.createElement("div",{style:{position:"absolute",left:"50%",marginLeft:"-3px",top:0,bottom:0,borderLeft:"4px solid black"}}),o.a.createElement(G,{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1e3},show:X,dismissible:!0,onClose:function(){return q(!1)},variant:K?"success":"primary"},K?o.a.createElement(o.a.Fragment,null,o.a.createElement(G.Heading,null,"Success: lyrics saved!"),o.a.createElement(E.a,{onClick:function(){return x.push("/p/".concat(d,"/").concat(y))}}," Play now!")):o.a.createElement(o.a.Fragment,null,o.a.createElement(G.Heading,{style:{justifyContent:"center"}}," Click the button below to confirm your submission "),o.a.createElement(E.a,{onClick:function(){return T()}}," Send Lyric Synchronization"))),o.a.createElement(m.a,{className:"justify-content-center h-10"},o.a.createElement(O.a,{xs:5}),o.a.createElement(O.a,{className:"align-self-center",xs:1}),o.a.createElement(O.a,{style:{alignSelf:"center",fontSize:"20px"},xs:5})),o.a.createElement(Z,{videoDuration:D,syncedLyrics:C,changeLyricById:U,aboveProgressBar:!0,playing:te,setPlaying:ae}),o.a.createElement(b.a,{fluid:!0,className:"mw-100 h-10"},o.a.createElement(m.a,{className:"align-self-center"},o.a.createElement(O.a,{xs:1,className:"align-self-center"},o.a.createElement(E.a,{ref:w,disabled:se,block:!0,onClick:function(){fe(-10),w.current.blur()}},o.a.createElement(h.a,{style:{justifyContent:"center",height:30,transform:"scaleX(-1)"},src:n(110)}))),o.a.createElement(O.a,{className:"align-self-center",xs:10},o.a.createElement("hr",{style:{color:"black",backgroundColor:"black",height:2}})),o.a.createElement(O.a,{xs:1,className:"align-self-center"},o.a.createElement(E.a,{ref:g,disabled:se,block:!0,onClick:function(){fe(10),g.current.blur()}},o.a.createElement(h.a,{style:{justifyContent:"center",height:30},src:n(110)}))))),o.a.createElement(Z,{videoDuration:D,syncedLyrics:C,changeLyricById:U,aboveProgressBar:!1,playing:te,setPlaying:ae}),o.a.createElement("div",{style:{width:1,backgroundColor:"black",position:"absolute",left:"50%",transform:"translate(-50%, 0%)"}}),o.a.createElement(ee.a,{style:{height:60,maxWidth:"100%"},fixed:"bottom",bg:"secondary",variant:"dark"},o.a.createElement(ee.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},o.a.createElement(ee.a.Text,{style:{fontSize:40}},M)),o.a.createElement(ee.a.Collapse,{className:"justify-content-end"},o.a.createElement(E.a,{onClick:function(){return q(!0)}}," Submit synchronization ")))))};function se(){var e=Object(c.a)(["\nquery processedlyrics($id: String){\n  processedLyrics(id: $id){\n    id\n    text\n  }\n}"]);return se=function(){return e},e}var le=Object(u.b)(se());function ue(e){var t=e.startTime,n=e.endTime;console.log(t),console.log(n);var a=Object(l.h)(),c=a.youtubeID,u=a.geniusID,j=Object(i.useRef)(null),O=Object(i.useState)(!1),h=Object(r.a)(O,2),E=h[0],v=h[1],g=Object(i.useState)(!1),w=Object(r.a)(g,2),x=w[0],k=w[1],S=Object(i.useState)(0),C=Object(r.a)(S,2),L=C[0],N=C[1],T=Object(i.useState)(0),P=Object(r.a)(T,2),I=P[0],D=P[1];Object(i.useEffect)((function(){return document.addEventListener("keydown",z,!1),function(){return window.removeEventListener("keydown",z)}}),[]);var z=function(e){e.keyCode&&U((function(e){return U(e+1)}))},B=Object(i.useState)({}),R=Object(r.a)(B,2),F=R[0],A=R[1];Object(i.useEffect)((function(){var e=setInterval((function(){j.current&&j.current.getCurrentTime()>n&&k(!0)}),1e3);return function(){return clearInterval(e)}}),[j.current]);var M=Object(i.useState)("Waiting for lyrics to be processed..."),$=Object(r.a)(M,2),W=$[0],H=$[1],X=Object(i.useState)(!0),q=Object(r.a)(X,2),J=q[0],_=q[1],G=Object(i.useState)(0),K=Object(r.a)(G,2),Q=K[0],U=K[1],V=Object(f.c)(le,{variables:{id:u},onCompleted:function(){A(V.processedLyrics.map((function(e){return e.map((function(e){return delete e.__typename,e}))}))),H("Press any key to start the video")}}).data;return Object(i.useEffect)((function(){0!=Q&&(E?J||L<F.length&&(A((function(e){return e.map((function(e,t){return e.map((function(e,n){return t===L&&n===I&&(e.time=j.current.getCurrentTime()),e}))}))})),F[L].length-1===I?(N((function(e){return e+1})),D(0)):D((function(e){return e+1}))):(v(!0),j.current&&j.current.seekTo(t)))}),[Q]),Object(i.useEffect)((function(){J||H("Whenever the highlighted word is said, press any key to sync it.")}),[J]),x?o.a.createElement(oe,{syncedLyrics:F,startTime:t,endTime:n}):o.a.createElement(b.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},o.a.createElement(p.a,{centerContent:o.a.createElement(y.a,{text:W,style:{fontSize:30,color:"white",zIndex:1e3,textAlign:"center"}})}),o.a.createElement(m.a,{className:"justify-content-md-center"},o.a.createElement(s.a,{visible:!0,ref:j,fadeOut:!1,playing:E,url:"https://www.youtube.com/watch?v=".concat(c),setEnded:k,setBuffering:_,disableControls:!0})),V?V.processedLyrics.slice(L).map((function(e,t){return o.a.createElement(m.a,{className:"justify-content-md-center",style:{minWidth:"100%"},key:t},e.map((function(e,n){return 0===t&&I===n?o.a.createElement("mark",{key:e.id,style:{backgroundColor:"#007bff",color:"#fff",marginBottom:10,fontSize:"40px",marginLeft:"0.5em"}},e.text):o.a.createElement("p",{key:e.id,style:{marginBottom:10,fontSize:"40px",marginLeft:"0.5em"}},e.text)})))})):o.a.createElement(d.a,{centered:!0}))}},69:function(e,t,n){"use strict";var a=n(4),r=n(13),c=n(21),i=n.n(c),o=n(1),s=n.n(o),l=n(28),u=["xl","lg","md","sm","xs"],f=s.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,o=e.as,f=void 0===o?"div":o,m=Object(r.a)(e,["bsPrefix","className","as"]),b=Object(l.a)(n,"col"),d=[],y=[];return u.forEach((function(e){var t,n,a,r=m[e];if(delete m[e],"object"===typeof r&&null!=r){var c=r.span;t=void 0===c||c,n=r.offset,a=r.order}else t=r;var i="xs"!==e?"-"+e:"";t&&d.push(!0===t?""+b+i:""+b+i+"-"+t),null!=a&&y.push("order"+i+"-"+a),null!=n&&y.push("offset"+i+"-"+n)})),d.length||d.push(b),s.a.createElement(f,Object(a.a)({},m,{ref:t,className:i.a.apply(void 0,[c].concat(d,y))}))}));f.displayName="Col",t.a=f},91:function(e,t,n){"use strict";var a=n(4),r=n(1),c=n.n(r),i=n(21),o=n.n(i);t.a=function(e){return c.a.forwardRef((function(t,n){return c.a.createElement("div",Object(a.a)({},t,{ref:n,className:o()(t.className,e)}))}))}}}]);
//# sourceMappingURL=10.bda607b9.chunk.js.map