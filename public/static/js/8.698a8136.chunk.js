(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{101:function(e,t,n){e.exports=n.p+"static/media/home.34034ca8.png"},122:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(124);var r=n(123);function o(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(99),r=n(92),o=n(3),i=n.n(o),c=n(140),s=n(106),l=n.n(s),u=n(130);function m(e){var t=e.children,n=e.title,s=e.imgOverlay,m=e.linkText,d=e.linkHref,f=e.style,b=Object(o.useState)(0),g=Object(r.a)(b,2),y=g[0],p=g[1],v=Object(u.a)({threshold:.5}),O=Object(r.a)(v,2),h=O[0],j=O[1];Object(o.useEffect)((function(){j&&p(1)}),[j]);var E=l()(),I=E.innerWidth,k=E.innerHeight;return i.a.createElement(c.a,{ref:h,className:"shadow-lg",style:Object(a.a)({width:"".concat(.8*I),position:"relative",left:"50%",transform:"translate(-50%, 0px)",opacity:y,transition:"opacity 500ms",marginBottom:20,marginTop:20,height:k-100},f),border:"primary"},i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a.Title,{style:{fontSize:40,textAlign:"center"}},n),i.a.createElement(c.a.Link,{style:{fontSize:20,textAlign:"center",zIndex:1e3},href:d},m),i.a.createElement(c.a.ImgOverlay,null,s),t))}},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(92),r=n(122),o=n(3),i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Object(o.useRef)(null),c=Object(o.useCallback)(t,[e].concat(Object(r.a)(a)));return Object(o.useEffect)((function(){if(e){i.current&&i.current.unobserve(e),i.current=new IntersectionObserver(c,n);var t=i.current;return t.observe(e),function(){return t.unobserve(e)}}}),[e].concat(Object(r.a)(a))),i.current},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=i(e,[]),r=n.root,s=void 0===r?null:r,l=n.rootMargin,u=void 0===l?"0px 0px 0px 0px":l,m=n.threshold,d=void 0===m?0:m,f=n.target,b=n.onEnter,g=n.onLeave,y=n.unobserveOnEnter,p=Object(o.useState)(null),v=Object(a.a)(p,2),O=v[0],h=v[1],j=Object(o.useState)({inView:!1,entry:null}),E=Object(a.a)(j,2),I=E[0],k=E[1],S=function(e,t){var n=Object(a.a)(e,1)[0];if(O&&n&&t){var r=n.isIntersecting,o=n.intersectionRatio;if(o>=0){var i=t.thresholds.some((function(e){return o>=e}))&&r;k({inView:i,entry:n}),i?(b&&b(n,t),y&&t.unobserve(O)):g&&g(n,t)}}};Object(o.useEffect)((function(){f&&h(f.current)}),[f]);var x=c(O,S,{root:s,rootMargin:u,threshold:d},t);return[h,I.inView,I.entry,x]}},140:function(e,t,n){"use strict";var a=n(9),r=n(22),o=n(42),i=n.n(o),c=n(3),s=n.n(c),l=n(48),u=n(113),m=n(133),d=n(134),f=s.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.variant,u=e.as,m=void 0===u?"img":u,d=Object(r.a)(e,["bsPrefix","className","variant","as"]),f=Object(l.a)(n,"card-img");return s.a.createElement(m,Object(a.a)({ref:t,className:i()(c?f+"-"+c:f,o)},d))}));f.displayName="CardImg",f.defaultProps={variant:null};var b=f,g=Object(m.a)("h5"),y=Object(m.a)("h6"),p=Object(u.a)("card-body"),v=Object(u.a)("card-title",{Component:g}),O=Object(u.a)("card-subtitle",{Component:y}),h=Object(u.a)("card-link",{Component:"a"}),j=Object(u.a)("card-text",{Component:"p"}),E=Object(u.a)("card-header"),I=Object(u.a)("card-footer"),k=Object(u.a)("card-img-overlay"),S=s.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,u=e.bg,m=e.text,f=e.border,b=e.body,g=e.children,y=e.as,v=void 0===y?"div":y,O=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),h=Object(l.a)(n,"card"),j=Object(c.useMemo)((function(){return{cardHeaderBsPrefix:h+"-header"}}),[h]);return s.a.createElement(d.a.Provider,{value:j},s.a.createElement(v,Object(a.a)({ref:t},O,{className:i()(o,h,u&&"bg-"+u,m&&"text-"+m,f&&"border-"+f)}),b?s.a.createElement(p,null,g):g))}));S.displayName="Card",S.defaultProps={body:!1},S.Img=b,S.Title=v,S.Subtitle=O,S.Body=p,S.Link=h,S.Text=j,S.Header=E,S.Footer=I,S.ImgOverlay=k;t.a=S},205:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(95),r=n(3),o=n.n(r),i=n(50),c=n(98),s=n(104),l=n(27),u=n(10),m=n(129);function d(){var e=Object(a.a)(["\n  query signedInUser($userName: String) {\n    signedInUser(userName: $userName) {\n      userName\n      existsInDB\n      synchronizations {\n        geniusID\n        searchResult {\n          text\n          imgUrl\n          forwardingUrl\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var f=Object(i.gql)(d());function b(){var e=Object(u.g)().userName,t=Object(i.useQuery)(f,{variables:{userName:e}}),n=t.data,a=(n=void 0===n?{}:n).signedInUser;return t.loading?o.a.createElement(l.a,{centered:!0}):a&&!a.existsInDB?o.a.createElement("p",null,"Couldn't find user"):o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,null),o.a.createElement(m.a,null,o.a.createElement(s.a,{style:{justifyContent:"center"}},o.a.createElement("p",null," ",e," ")),o.a.createElement(s.a,{style:{justifyContent:"center"}},a&&a.synchronizationData.length?o.a.createElement("p",null,"This user has not created any synchronizations"):o.a.createElement("p",null,"Synchronizations"))))}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(92),r=n(95),o=n(3),i=n.n(o),c=n(109),s=n(112),l=n(120),u=n(93),m=n(117),d=n(111),f=n(107),b=n(10),g=n(119),y=n(100),p=n.n(y),v="359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",O=n(50),h=n(106),j=n.n(h);function E(){var e=Object(r.a)(["\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n"]);return E=function(){return e},e}function I(){var e=Object(r.a)(["\n  query usernametaken($userName: String) {\n    userNameTaken(userName: $userName)\n  }\n"]);return I=function(){return e},e}function k(){var e=Object(r.a)(["\n  query signedinuser($tokenId: String) {\n    signedInUser(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n"]);return k=function(){return e},e}var S=Object(O.gql)(k()),x=Object(O.gql)(I()),N=Object(O.gql)(E());function w(e){var t=e.centerContent,r=e.customContent,h=e.setParentTokenId,E=Object(b.f)(),I=j()(),k=I.innerWidth,w=I.innerHeight,C=Object(o.useState)(""),T=Object(a.a)(C,2),P=T[0],z=T[1],B=Object(O.useLazyQuery)(S,{variables:{tokenId:P},onCompleted:function(){console.log("fetched"),console.log(q),q.existsInDB||G(!0)},fetchPolicy:"network-only"}),$=Object(a.a)(B,2),D=$[0],L=$[1].data,q=(L=void 0===L?{}:L).signedInUser,H=Object(o.useState)(""),R=Object(a.a)(H,2),U=R[0],F=R[1],A=Object(O.useQuery)(x,{variables:{userName:U},skip:!q||q.existsInDB}).data,M=(A=void 0===A?{}:A).userNameTaken,V=Object(o.useState)(!1),_=Object(a.a)(V,2),Q=_[0],G=_[1],J=Object(O.useMutation)(N,{variables:{userName:U,tokenId:P},onCompleted:function(){D({variables:{tokenId:P}}),G(!1)}}),W=Object(a.a)(J,1)[0];return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{className:"shadow-lg",style:{position:"absolute",left:.5*k,top:.5*w,transform:"translate(-50%, -50%)",zIndex:1e3},show:Q,dismissible:!0,onClose:function(){return G(!1)},variant:"primary"},i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a.Heading,null,"Create a username for your account"),i.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),W()},onChange:function(e){return F(e.target.value)}},i.a.createElement(f.a.Control,{style:{marginTop:"em"},placeholder:"Enter username for your new account",autoFocus:!0}),i.a.createElement(u.a,{style:{position:"relative",marginTop:"1em",left:"50%",transform:"translate(-50%, 0px)"},disabled:M,onClick:function(){return W()}},"Create account")))),i.a.createElement(c.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},i.a.createElement(c.a.Brand,{onClick:function(){return E.push("/")}},i.a.createElement(u.a,{variant:"outline-primary",style:{justifyContent:"left",width:142,height:44},size:"sm"},i.a.createElement("img",{alt:"Home",src:n(101),style:{top:0,height:"100%",width:"100%"}}))),r,i.a.createElement(c.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},t),i.a.createElement(l.a,{className:"ml-auto"},i.a.createElement("div",{style:{marginRight:10,marginTop:20,marginBottom:20}},i.a.createElement(g.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")),q&&q.existsInDB?i.a.createElement(m.a,{title:"Signed in as ".concat(q.userName),style:{alignSelf:"center"}},i.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},i.a.createElement(u.a,{style:{width:"100%"},onClick:function(){return E.push("/user/".concat(q.userName))}},"View your profile")),i.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},i.a.createElement(y.GoogleLogout,{clientId:v,onLogoutSuccess:function(){z(""),D()}}))):Q?i.a.createElement("p",{style:{fontSize:20,marginTop:16}}," Logging in... "):i.a.createElement("div",{style:{height:"100%",alignSelf:"center"}},i.a.createElement(p.a,{clientId:v,onSuccess:function(e){z(e.tokenId),D(),h&&h(e.tokenId)},isSignedIn:!0})))))}}}]);
//# sourceMappingURL=8.698a8136.chunk.js.map