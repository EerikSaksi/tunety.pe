(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[14],{104:function(e,t,a){e.exports=a.p+"static/media/home.34034ca8.png"},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(93),r=a(91),i=a(3),s=a.n(i),l=a(126),o=a(106),c=a.n(o),u=a(110);function m(e){var t=e.children,a=e.title,o=e.imgOverlay,m=e.linkText,d=e.linkHref,f=e.style,g=Object(i.useState)(0),h=Object(r.a)(g,2),p=h[0],y=h[1],E=Object(u.a)({threshold:.5}),b=Object(r.a)(E,2),v=b[0],O=b[1];Object(i.useEffect)((function(){O&&y(1)}),[O]);var j=c()(),S=j.innerWidth,k=j.innerHeight;return s.a.createElement(l.a,{ref:v,className:"shadow-lg",style:Object(n.a)({width:"".concat(.8*S),position:"relative",left:"50%",transform:"translate(-50%, 0px)",opacity:p,transition:"opacity 500ms",marginBottom:20,marginTop:20,height:k-100},f),border:"primary"},s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a.Title,{style:{fontSize:40,textAlign:"center"}},a),s.a.createElement(l.a.Link,{style:{fontSize:20,textAlign:"center",zIndex:1e3},href:d},m),s.a.createElement(l.a.ImgOverlay,null,o),t))}},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(93),r=a(98),i=a.n(r),s=a(99),l=a(91),o=a(3),c=a.n(o),u=a(107),m=a(50),d=a(92),f=a(10);function g(e){var t=e.text,a=e.style;return c.a.createElement("div",{style:Object(n.a)({position:"absolute",height:30,opacity:.8,width:"100%",display:"flex",alignItems:"center",backgroundColor:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},a)},c.a.createElement("p",{style:{width:"100%",whiteSpace:"no-wrap",color:"black",fontSize:20,margin:0}},t))}function h(e){var t=e.forwardingUrl,a=e.imgUrl,r=e.bottomText,h=e.centerText,p=e.topText,y=e.fadeInMillis,E=e.style,b=Object(f.f)(),v=Object(o.useState)(!1),O=Object(l.a)(v,2),j=O[0],S=O[1],k=Object(o.useState)(0),I=Object(l.a)(k,2),x=I[0],T=I[1];return Object(o.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:T(1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(y)}),[y]),c.a.createElement(u.a,{xs:12,style:Object(n.a)({transition:"opacity 0.5s",opacity:x,margin:10,padding:0,maxHeight:347.5,maxWidth:347.5,minHeight:"100%"},E),onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)}},c.a.createElement(d.a,{style:{width:"100%",height:"100%",padding:0,border:0},onClick:function(){return b.push(t)}},c.a.createElement(m.a,{className:j?"shadow-lg":"",style:{maxHeight:347.5,height:"100%",width:"auto",maxWidth:"100%",transition:"all 200ms"},rounded:!0,src:a}),c.a.createElement(g,{style:{top:0},text:p}),c.a.createElement(g,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto"},text:h}),c.a.createElement(g,{style:{bottom:0},text:r})))}},207:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(91),r=a(95),i=a(3),s=a.n(i),l=a(49),o=a(97),c=a(111),u=a(27),m=a(10),d=a(100),f=a(114);function g(e){var t=e.searchResults,a=e.dateClassified,n=e.displayDate,r=t.filter((function(e){return e.dateClassifier.dateClassified===a})).map((function(e,t){return s.a.createElement(f.a,Object.assign({},e,{style:{height:300,maxWidth:300},fadeInMillis:200*(t+1)}))}));return r.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{style:{marginTop:"1.5em"}},s.a.createElement("p",null,n)),s.a.createElement("div",{style:{display:"flex",alignItems:"center",overflowX:"scroll"}},r)):null}var h=a(109);function p(){var e=Object(r.a)(["\n  query userdata($userName: String) {\n    userData(userName: $userName) {\n      userName\n      existsInDB\n      synchronizations {\n        geniusID\n        searchResult {\n          topText\n          centerText\n          bottomText\n          imgUrl\n          forwardingUrl\n          createdAt\n          dateClassifier{\n            dateClassified\n          }\n        }\n      }\n      gameStats {\n        creatorUserName\n        youtubeID\n        geniusID\n        wordsPerMinute\n        accuracy\n        createdAt\n        searchResult {\n          topText\n          centerText\n          bottomText\n          imgUrl\n          forwardingUrl\n          createdAt\n          dateClassifier{\n            dateClassified\n          }\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}var y=Object(l.gql)(p());function E(){var e,t=Object(m.g)().userName,a=Object(l.useQuery)(y,{variables:{userName:t}}),r=a.data,d=(r=void 0===r?{}:r).userData,f=a.loading,p=Object(i.useState)("/gameStats"),E=Object(n.a)(p,2),b=E[0],v=E[1];if(f)return s.a.createElement(u.a,{centered:!0});if(d&&!d.existsInDB)return s.a.createElement("p",null,"Couldn't find user");if(f)e=s.a.createElement(u.a,{centered:!0});else{var O="/gameStats"===b?d.gameStats.map((function(e){return e.searchResult})):d.synchronizations.map((function(e){return e.searchResult}));console.log(O),e=s.a.createElement(s.a.Fragment,null,s.a.createElement(g,{searchResults:O,dateClassified:"TODAY",displayDate:"Today"}),s.a.createElement(g,{searchResults:O,dateClassified:"YESTERDAY",displayDate:"Yesterday"}),s.a.createElement(g,{searchResults:O,dateClassified:"THIS_WEEK",displayDate:"This Week"}),s.a.createElement(g,{searchResults:O,dateClassified:"FURTHER_BACK",displayDate:"Further Back"}))}return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,null),s.a.createElement(h.a,{style:{padding:"1em",height:"auto"}},s.a.createElement(c.a,{style:{height:"10%",justifyContent:"center",zIndex:100},variant:"pills",activeKey:b,onSelect:function(e){return v(e)}},s.a.createElement(c.a.Item,null,s.a.createElement(c.a.Link,{eventKey:"/gameStats"},"Game History")),s.a.createElement(c.a.Item,null,s.a.createElement(c.a.Link,{eventKey:"/synchronizations"},"Created Synchronizations"))),e))}},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(91),r=a(95),i=a(3),s=a.n(i),l=a(112),o=a(108),c=a(111),u=a(92),m=a(123),d=a(118),f=a(105),g=a(10),h=a(124),p=a(103),y=a.n(p),E=a(49),b=a(106),v=a.n(b);function O(){var e=Object(r.a)(["\n  mutation createuser($tokenId: String, $userName: String) {\n    createUser(tokenId: $tokenId, userName: $userName)\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(r.a)(["\n  query usernametaken($userName: String!) {\n    userNameTaken(userName: $userName)\n  }\n"]);return j=function(){return e},e}function S(){var e=Object(r.a)(["\n  query userdata($tokenId: String) {\n    userData(tokenId: $tokenId) {\n      userName\n      existsInDB\n    }\n  }\n"]);return S=function(){return e},e}console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GOOGLE_AUTHENTICATOR_CLIENT);var k=Object(E.gql)(S()),I=Object(E.gql)(j()),x=Object(E.gql)(O());function T(e){var t=e.centerContent,r=e.customContent,b=e.setParentTokenId,O=e.setParentUserName,j=Object(g.f)(),S=v()(),T=S.innerWidth,C=S.innerHeight,w=Object(i.useState)(""),N=Object(n.a)(w,2),D=N[0],R=N[1],_=Object(E.useLazyQuery)(k,{variables:{tokenId:D},onCompleted:function(){U.existsInDB?O&&O(U.userName):G(!0)},fetchPolicy:"network-only"}),H=Object(n.a)(_,2),z=H[0],L=H[1].data,U=(L=void 0===L?{}:L).userData,B=Object(i.useState)(""),A=Object(n.a)(B,2),F=A[0],W=A[1],$=Object(E.useQuery)(I,{variables:{userName:F},skip:!U||U.existsInDB||""===F}).data,q=($=void 0===$?{}:$).userNameTaken,K=Object(i.useState)(!1),P=Object(n.a)(K,2),M=P[0],G=P[1],Y=Object(E.useMutation)(x,{variables:{userName:F,tokenId:D},onCompleted:function(){z({variables:{tokenId:D}}),G(!1)}}),Q=Object(n.a)(Y,1)[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{className:"shadow-lg",style:{position:"absolute",left:.5*T,top:.5*C,transform:"translate(-50%, -50%)",zIndex:1e3},show:M,onClose:function(){return G(!1)},variant:q?"danger":"primary"},s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a.Heading,null,q?"This username is taken":"Create a username for your account"),s.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),q||Q()},onChange:function(e){return W(e.target.value)}},s.a.createElement(f.a.Control,{style:{marginTop:"em"},placeholder:"Enter username for your new account",autoFocus:!0}),s.a.createElement(u.a,{style:{position:"relative",marginTop:"1em",left:"50%",transform:"translate(-50%, 0px)"},disabled:q,onClick:function(){return Q()}},"Create account")))),s.a.createElement(l.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},s.a.createElement(l.a.Brand,{onClick:function(){return j.push("/")}},s.a.createElement(u.a,{variant:"outline-primary",style:{justifyContent:"left",width:142,height:44},size:"sm"},s.a.createElement("img",{alt:"Home",src:a(104),style:{top:0,height:"100%",width:"100%"}}))),r,s.a.createElement(l.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},t),s.a.createElement(c.a,{className:"ml-auto"},s.a.createElement("div",{style:{marginRight:10,marginTop:20,marginBottom:20}},s.a.createElement(h.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")),U&&U.existsInDB?s.a.createElement(m.a,{title:"Signed in as ".concat(U.userName),style:{alignSelf:"center"}},s.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},s.a.createElement(u.a,{style:{width:"100%"},onClick:function(){return j.push("/user/".concat(U.userName))}},"View your profile")),s.a.createElement(d.a.Item,{style:{paddingLeft:4,paddingRight:4}},s.a.createElement(p.GoogleLogout,{clientId:"359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",onLogoutSuccess:function(){R(""),z()}}))):M?s.a.createElement("p",{style:{fontSize:20,marginTop:16}}," Logging in... "):s.a.createElement("div",{style:{height:"100%",alignSelf:"center"}},s.a.createElement(y.a,{clientId:"359548864121-f3blhpvvgm17oqoun8tvh2708a8loujm.apps.googleusercontent.com",onSuccess:function(e){R(e.tokenId),z(),b&&b(e.tokenId)},onFailure:function(e){},isSignedIn:!0})))))}}}]);
//# sourceMappingURL=14.884d3149.chunk.js.map