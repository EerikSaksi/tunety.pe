(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{134:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(59),r=n(72),c=n(1),o=n.n(c),i=n(67),u=n(71),s=n(61),l=n(62);function f(e){var t=e.text,n=(e.time,e.id,e.topOffset),a=e.commonSuffixLength;return o.a.createElement(l.a,null,o.a.createElement("div",{style:{position:"absolute",left:"".concat("50","%"),transform:"translate(-".concat("50","%, ").concat(n,"px)"),transition:"opacity .1s ease-in-out, top 2s ease-in-out"}},o.a.createElement("p",null,o.a.createElement("span",{style:{color:"green",display:"inline-block"}},t.substring(0,a||0)),o.a.createElement("span",{style:{color:"black",display:"inline-block"}},t.substring(a||0)))))}function m(e){var t=e.syncedLyrics,n=e.input,r=e.clearInput,i=e.videoDuration,u=Object(c.useState)([]),s=Object(a.a)(u,2),l=s[0],m=s[1],b=Object(c.useState)(0),y=Object(a.a)(b,2),p=y[0],d=y[1],g=Object(c.useState)(0),E=Object(a.a)(g,2),O=E[0],j=E[1],h=Object(c.useRef)();Object(c.useLayoutEffect)((function(){h.current&&j(h.current.offsetHeight)}),[]),Object(c.useEffect)((function(){var e=l;t&&p<t.length&&t[p].time<i&&(console.log(i),console.log(t[p].time),e=e.concat(t[p]),d(p+1)),e=(e=e.map((function(e){return e.topOffset=(i-e.time)/3*O,e}))).filter((function(e){return console.log(e),i-e.time<3})),m(e)}),[i]),Object(c.useEffect)((function(){m(l.map((function(e){return 0===e.text.indexOf(n)?e.commonSuffixLength=n.length:e.commonSuffixLength=0,e})).filter((function(e){return e.text===n&&(r(),!0)})))}),[n]);var v=function(e){m.filter((function(t){return t.id!==e}))};return o.a.createElement("div",{ref:h,style:{position:"absolute",top:0,bottom:"20%",left:0,right:0}},l===[]?null:l.map((function(e){return o.a.createElement(f,Object.assign({key:e.id},e,{input:n,removeByID:v,topOffset:e.topOffset,commonSuffixLength:e.commonSuffixLength}))})))}var b=n(73),y=n(5),p=(n(64),n(26)),d=n(57),g=n(25);function E(){var e=Object(r.a)(["\nquery syncedlyrics($youtubeID: String, $geniusID: String){\n  syncedLyrics(youtubeID: $youtubeID, geniusID: $geniusID){\n    text\n    time\n    id\n  }\n}"]);return E=function(){return e},e}var O=Object(p.b)(E());function j(){var e=Object(y.h)(),t=e.youtubeID,n=e.geniusID,r=Object(d.b)(O,{variables:{youtubeID:t,geniusID:n}}),l=r.data,f=r.error,p=Object(y.f)(),E=Object(c.useRef)(),j=Object(c.useState)(""),h=Object(a.a)(j,2),v=h[0],S=h[1],I=Object(c.useState)(!0),D=Object(a.a)(I,2),k=(D[0],D[1]),L=Object(c.useState)(!1),x=Object(a.a)(L,2),C=(x[0],x[1]),w=Object(c.useState)(!0),B=Object(a.a)(w,2),R=B[0],z=B[1],$=Object(c.useState)(!1),_=Object(a.a)($,2),F=(_[0],_[1],Object(c.useRef)());return Object(c.useEffect)((function(){var e=setInterval((function(){F.current&&F.current.focus(),E.current&&z(E.current.getCurrentTime())}),10);return function(){return clearInterval(e)}}),[]),t&&n?o.a.createElement(o.a.Fragment,null,f?o.a.createElement(i.a,{className:"justify-content-md-center"},o.a.createElement(s.a,{onClick:function(){return p.push("/s/".concat(t,"/").concat(n))}},o.a.createElement("p",null,"Create synchronization for this song and video."))):void 0!==l&&void 0!==l.syncedLyrics?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,null,o.a.createElement(u.a,{style:{position:"absolute",bottom:0,left:"50%",width:800,transform:"translate(-50%, 0%)",fontSize:100},onChange:function(e){return S(e.target.value)}},o.a.createElement(u.a.Control,{ref:F,style:{fontSize:40}}))),o.a.createElement(b.a,{ref:E,visible:!0,fadeOut:!0,url:"https://www.youtube.com/watch?v=".concat(t),playing:!0,setBuffering:k,setEnded:C}),o.a.createElement(m,{input:v,syncedLyrics:l?l.syncedLyrics:null,videoDuration:R,clearInput:function(){S("")}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{style:{justifyContent:"center"}},o.a.createElement("p",null,"Loading lyrics")),o.a.createElement(i.a,{style:{justifyContent:"center"}},o.a.createElement(g.a,null)))):"Invalid URL: Missing either a youtubeID or a geniusID"}},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),c=n(76),o=n(83),i=n(61),u=n(5),s=n(82);function l(e){var t=e.centerContent,a=e.customContent,l=Object(u.f)();return r.a.createElement(c.a,{style:{height:60},sticky:"top",bg:"secondary",variant:"dark"},r.a.createElement(c.a.Brand,{onClick:function(){return l.push("/")}},r.a.createElement(i.a,{variant:"light"},r.a.createElement("img",{src:n(69),style:{height:30,width:30}}))),a,r.a.createElement(c.a.Collapse,{style:{position:"absolute",transform:"translate(-50%, 0%)",left:"50%"}},t),r.a.createElement(o.a,{className:"ml-auto"},r.a.createElement(s.a,{href:"https://github.com/EerikSaksi/type_to_lyrics","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star EerikSaksi/type_to_lyrics on GitHub"},"Star")))}},69:function(e,t,n){e.exports=n.p+"static/media/icons8-home.5ecf30e7.svg"},73:function(e,t,n){"use strict";var a=n(68),r=n(59),c=n(1),o=n.n(c),i=n(89),u=n.n(i),s=o.a.forwardRef((function(e,t){var n=e.visible,i=e.fadeOut,s=e.url,l=e.playing,f=e.setBuffering,m=e.setEnded,b=e.disableControls,y=e.customStyle,p=Object(c.useState)(0),d=Object(r.a)(p,2),g=d[0],E=d[1],O=i?{transition:"opacity 0.5s",opacity:g}:n?{opacity:1}:{opacity:0};return o.a.createElement(u.a,{ref:t,style:Object(a.a)({pointerEvents:"none"},O,{},y,{minWidth:"100%",minHeight:"100%",position:"absolute",left:0,top:0}),url:s,playing:l,controls:b,onBuffer:function(){f&&f(!0)},onBufferEnd:function(){f&&f(!1),E(0)},onPlay:function(){E(0)},onEnded:function(){m&&m(!0)}})}));t.a=s}}]);
//# sourceMappingURL=9.d3926f0e.chunk.js.map